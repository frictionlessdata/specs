<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Security | Frictionless Standards</title>
    <meta name="generator" content="VuePress 1.8.2">
    <script src="https://plausible.io/js/script.js" data-domain="specs.frictionlessdata.io"></script>
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.31ed7ec1.css" as="style"><link rel="preload" href="/assets/js/app.51b46ea3.js" as="script"><link rel="preload" href="/assets/js/2.d6dd5bfd.js" as="script"><link rel="preload" href="/assets/js/5.02f86579.js" as="script"><link rel="preload" href="/assets/js/26.aa209af9.js" as="script"><link rel="preload" href="/assets/js/10.7ad32849.js" as="script"><link rel="preload" href="/assets/js/3.ee45f692.js" as="script"><link rel="prefetch" href="/assets/js/11.95cc6fa2.js"><link rel="prefetch" href="/assets/js/12.a5d52534.js"><link rel="prefetch" href="/assets/js/13.5991b838.js"><link rel="prefetch" href="/assets/js/14.65071af7.js"><link rel="prefetch" href="/assets/js/15.14d9f21a.js"><link rel="prefetch" href="/assets/js/16.f9073eb5.js"><link rel="prefetch" href="/assets/js/17.11c3891e.js"><link rel="prefetch" href="/assets/js/18.661517b2.js"><link rel="prefetch" href="/assets/js/19.91744755.js"><link rel="prefetch" href="/assets/js/20.cdf5cb64.js"><link rel="prefetch" href="/assets/js/21.3fad06c6.js"><link rel="prefetch" href="/assets/js/22.42c47b43.js"><link rel="prefetch" href="/assets/js/23.8e9ba058.js"><link rel="prefetch" href="/assets/js/24.5225f1ba.js"><link rel="prefetch" href="/assets/js/25.93436a0a.js"><link rel="prefetch" href="/assets/js/27.0b1aa329.js"><link rel="prefetch" href="/assets/js/28.64dcc20f.js"><link rel="prefetch" href="/assets/js/29.814104b2.js"><link rel="prefetch" href="/assets/js/30.7e1f8a56.js"><link rel="prefetch" href="/assets/js/31.4f2c83b6.js"><link rel="prefetch" href="/assets/js/4.a981ee64.js"><link rel="prefetch" href="/assets/js/6.96220469.js"><link rel="prefetch" href="/assets/js/7.323437e3.js"><link rel="prefetch" href="/assets/js/8.ad8a6967.js"><link rel="prefetch" href="/assets/js/9.2e4ee646.js">
    <link rel="stylesheet" href="/assets/css/0.styles.31ed7ec1.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/frictionless-logo.png" alt="Frictionless Standards" class="logo"> <span class="site-name can-hide">Frictionless Standards</span></a> <div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="/table-schema/" class="nav-link">
  Table Schema
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Data Resource" class="dropdown-title"><span class="title">Data Resource</span> <span class="arrow down"></span></button> <button type="button" aria-label="Data Resource" class="mobile-dropdown-title"><span class="title">Data Resource</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/data-resource/" class="nav-link">
  Data Resource
</a></li><li class="dropdown-item"><!----> <a href="/tabular-data-resource/" class="nav-link">
  Tabular Data Resource
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Data Package" class="dropdown-title"><span class="title">Data Package</span> <span class="arrow down"></span></button> <button type="button" aria-label="Data Package" class="mobile-dropdown-title"><span class="title">Data Package</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/data-package/" class="nav-link">
  Data Package
</a></li><li class="dropdown-item"><!----> <a href="/tabular-data-package/" class="nav-link">
  Tabular Data Package
</a></li><li class="dropdown-item"><!----> <a href="/fiscal-data-package/" class="nav-link">
  Fiscal Data Package
</a></li><li class="dropdown-item"><!----> <a href="/fiscal-data-package--budgets/" class="nav-link">
  Fiscal Data Package - Budgets
</a></li><li class="dropdown-item"><!----> <a href="/fiscal-data-package--spending/" class="nav-link">
  Fiscal Data Package - Spending
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Other Specs" class="dropdown-title"><span class="title">Other Specs</span> <span class="arrow down"></span></button> <button type="button" aria-label="Other Specs" class="mobile-dropdown-title"><span class="title">Other Specs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/data-package-identifier/" class="nav-link">
  Data Package Identifier
</a></li><li class="dropdown-item"><!----> <a href="/tabular-diff/" class="nav-link">
  Tabular Diff Format
</a></li><li class="dropdown-item"><!----> <a href="/csv-dialect/" class="nav-link">
  CSV Dialect
</a></li><li class="dropdown-item"><!----> <a href="/security/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Security
</a></li><li class="dropdown-item"><!----> <a href="/profiles/" class="nav-link">
  Profiles
</a></li><li class="dropdown-item"><!----> <a href="/views/" class="nav-link">
  Views
</a></li></ul></div></div><div class="nav-item"><a href="/patterns/" class="nav-link">
  Patterns
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guides" class="dropdown-title"><span class="title">Guides</span> <span class="arrow down"></span></button> <button type="button" aria-label="Guides" class="mobile-dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guides/data-package/" class="nav-link">
  Data Package
</a></li><li class="dropdown-item"><!----> <a href="/guides/implementation/" class="nav-link">
  Implementation
</a></li></ul></div></div><div class="nav-item"><a href="https://frictionlessdata.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Back to the main site
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav> <div class="search-box md:pl-4"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <a href="https://discordapp.com/invite/Sewv6av" title="Discord" target="blank" class="navbaricon"><img src="/img/discord-icon.svg" class="px-2 w-5 pt-4"></a> <a href="https://twitter.com/frictionlessd8a" title="Twitter" target="blank" class="navbaricon"><img src="/img/twitter-icon.svg" class="px-2 w-5 pt-4"></a> <a href="https://github.com/frictionlessdata/specs" title="GitHub" target="blank" class="navbaricon"><img src="/img/github-icon.svg" class="px-2 w-5 pt-4"></a></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/table-schema/" class="nav-link">
  Table Schema
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Data Resource" class="dropdown-title"><span class="title">Data Resource</span> <span class="arrow down"></span></button> <button type="button" aria-label="Data Resource" class="mobile-dropdown-title"><span class="title">Data Resource</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/data-resource/" class="nav-link">
  Data Resource
</a></li><li class="dropdown-item"><!----> <a href="/tabular-data-resource/" class="nav-link">
  Tabular Data Resource
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Data Package" class="dropdown-title"><span class="title">Data Package</span> <span class="arrow down"></span></button> <button type="button" aria-label="Data Package" class="mobile-dropdown-title"><span class="title">Data Package</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/data-package/" class="nav-link">
  Data Package
</a></li><li class="dropdown-item"><!----> <a href="/tabular-data-package/" class="nav-link">
  Tabular Data Package
</a></li><li class="dropdown-item"><!----> <a href="/fiscal-data-package/" class="nav-link">
  Fiscal Data Package
</a></li><li class="dropdown-item"><!----> <a href="/fiscal-data-package--budgets/" class="nav-link">
  Fiscal Data Package - Budgets
</a></li><li class="dropdown-item"><!----> <a href="/fiscal-data-package--spending/" class="nav-link">
  Fiscal Data Package - Spending
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Other Specs" class="dropdown-title"><span class="title">Other Specs</span> <span class="arrow down"></span></button> <button type="button" aria-label="Other Specs" class="mobile-dropdown-title"><span class="title">Other Specs</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/data-package-identifier/" class="nav-link">
  Data Package Identifier
</a></li><li class="dropdown-item"><!----> <a href="/tabular-diff/" class="nav-link">
  Tabular Diff Format
</a></li><li class="dropdown-item"><!----> <a href="/csv-dialect/" class="nav-link">
  CSV Dialect
</a></li><li class="dropdown-item"><!----> <a href="/security/" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  Security
</a></li><li class="dropdown-item"><!----> <a href="/profiles/" class="nav-link">
  Profiles
</a></li><li class="dropdown-item"><!----> <a href="/views/" class="nav-link">
  Views
</a></li></ul></div></div><div class="nav-item"><a href="/patterns/" class="nav-link">
  Patterns
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Guides" class="dropdown-title"><span class="title">Guides</span> <span class="arrow down"></span></button> <button type="button" aria-label="Guides" class="mobile-dropdown-title"><span class="title">Guides</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guides/data-package/" class="nav-link">
  Data Package
</a></li><li class="dropdown-item"><!----> <a href="/guides/implementation/" class="nav-link">
  Implementation
</a></li></ul></div></div><div class="nav-item"><a href="https://frictionlessdata.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Back to the main site
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Security</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/security/#language" class="sidebar-link">Language</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/security/#library-users" class="sidebar-link">Library users</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/security/#dangerous-descriptor-resource-pointer-combinations" class="sidebar-link">Dangerous Descriptor/Resource pointer combinations</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/security/#descriptor-source-is-a-url" class="sidebar-link">Descriptor source is a URL</a></li><li class="sidebar-sub-header"><a href="/security/#descriptor-source-is-a-local-relative-path" class="sidebar-link">Descriptor source is a local relative path</a></li><li class="sidebar-sub-header"><a href="/security/#descriptor-source-is-a-local-relative-path-2" class="sidebar-link">Descriptor source is a local relative path</a></li><li class="sidebar-sub-header"><a href="/security/#descriptor-source-is-a-json-object" class="sidebar-link">Descriptor source is a JSON object</a></li><li class="sidebar-sub-header"><a href="/security/#descriptor-source-is-a-self-created-json-object" class="sidebar-link">Descriptor source is a self-created JSON object</a></li></ul></li><li><a href="/security/#library-creators" class="sidebar-link">Library creators</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/security/#security-filters" class="sidebar-link">Security Filters</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="page-frontmatter-title"><a href="#page-frontmatter-title" class="header-anchor">#</a> Security</h1> <p>Security considerations around Data Packages and Data Resources</p> <table class="frm-table"><tbody><tr><th> Author(s) </th> <td> Johannes Jander </td></tr> <tr></tr><tr><th> Created </th> <td> 17 November 2019 </td></tr> <tr></tr><tr><th> Updated </th> <td> 18 November 2019 </td></tr> <tr><th> JSON Schema </th> <td><a href="/schemas/security.json">security.json </a></td></tr> <tr><th> Version </th> <td>  </td></tr></tbody></table> <h2 id="language"><a href="#language" class="header-anchor">#</a> Language</h2> <p>
  The key words <code>MUST</code>, <code>MUST NOT</code>, <code>REQUIRED</code>, <code>SHALL</code>, <code>SHALL NOT</code>, <code>SHOULD</code>, <code>SHOULD NOT</code>, <code>RECOMMENDED</code>, <code>MAY</code>, and <code>OPTIONAL</code> in this document are to be interpreted as described in <a href="https://www.ietf.org/rfc/rfc2119.txt" target="_blank" title="RFC 2119">RFC 2119</a></p> <h2 id="library-users"><a href="#library-users" class="header-anchor">#</a> Library users</h2> <p>Data packages is a container format that allows the creator to specify payload data (Resources) either as JSON<br>
objects/arrays or via pointers. There are two pointer formats:</p> <ul><li>local file system references. Those follow POSIX naming conventions and have to be relative to the Package Descriptor<br>
file (“datapackage.json”). Absolute paths are disallowed as they would open data exfiltration attacks. They would also<br>
be rarely useful, considering you typically cannot know the file system layout of the user’s computer</li> <li>URLs as pointers to remote Resources. They are intended to load datasets from sites like statistic’s offices as the<br>
basis of Data Packages. Only HTTP/HTTPS URLs are allowed, library maintainers have to filter out others like file-URLs</li></ul> <p>Both formats can open security holes that can be used to attack the user’s computer and/or network. It is therefore<br>
STRONGLY recommended to limit the kind of Resource pointers you allow on your machines if you accept Data Packages<br>
from third party sources.</p> <p>ONLY in a trusted environment (eg. your own computer during development of Data Packages) is it recommended to allow<br>
all kinds of Resource pointers. In every other environment, you MUST keep the various attack scenarios in mind and<br>
filter out potentially dangerous Resource pointer types</p> <h2 id="dangerous-descriptor-resource-pointer-combinations"><a href="#dangerous-descriptor-resource-pointer-combinations" class="header-anchor">#</a> Dangerous Descriptor/Resource pointer combinations</h2> <p>How to read the table: if your “datapackage.json”-file comes from one of the sources on the left, you should treat<br>
Resources in the format on the top as:</p> <ul><li>red: disallowed</li> <li>yellow: potentially dangerous</li> <li>green: safe to use</li></ul> <p><img src="security_matrix.png" alt="alt text"></p> <h3 id="descriptor-source-is-a-url"><a href="#descriptor-source-is-a-url" class="header-anchor">#</a> Descriptor source is a URL</h3> <p>If your descriptor is loaded via URL, and the server to which the URL points is not fully trusted, you<br>
SHOULD NOT allow Data Packages with Resource pointers in</p> <ul><li>URLs. As described in <a href="https://github.com/frictionlessdata/specs/issues/650" target="_blank" rel="noopener noreferrer">issue #650<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, URLs crafted by the author<br>
of a Data Package can be used in a “keyhole” attack to probe your network layout.</li> <li>Absolute file system references. Absolute paths can be used to exfiltrate system files (eg. /etc/passwd on<br>
Unix-like systems). Relative paths will be converted to URLs relative to the descriptor URL, so they will<br>
not load data from the local file system and are therefore safe.</li></ul> <p>URL-based Resource pointers can furthermore be used for denial of service attacks on either the user’s system or a<br>
service hosting Resource data. A relatively small Data Package could still hold thousands of Resource URLs that<br>
each could point to very large CSV files hosted somewhere. The Data Package processing library would load all<br>
those CSV files which might overwhelm the user’s computer. If an attacker were able to spread such a malicious<br>
Data Package, this could exhaust the resources of a hosting service.</p> <h3 id="descriptor-source-is-a-local-relative-path"><a href="#descriptor-source-is-a-local-relative-path" class="header-anchor">#</a> Descriptor source is a local relative path</h3> <p>If your descriptor is loaded via a local relative path, and the source of the Data Package is not fully trusted, you<br>
SHOULD NOT allow Data Packages with Resource pointers in</p> <ul><li>URLs. As described in <a href="https://github.com/frictionlessdata/specs/issues/650" target="_blank" rel="noopener noreferrer">issue #650<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, URLs crafted by the author<br>
of a Data Package can be used in a “keyhole” attack to probe your network layout.</li> <li>Absolute file system references. Absolute paths can be used to exfiltrate system files (eg. /etc/passwd on<br>
Unix-like systems). Relative paths will be converted to paths relative to the Descriptor file system reference,<br>
so they are considered harmless.</li></ul> <p>As long as the producer of the Data Package is on the same local network as the computer/server parsing it, it is<br>
considered safe to reference Resources via URLs, as the creator could map the network from their own workstation just<br>
as well as crafting malicious Data Packages. In the above table, this case is therefore coded in yellow.</p> <p>If Data Package parsing is part of a service offered to computers across subnets on the same LAN or even open to the<br>
internet, it NEVER safe to accept Data Packages containing URL-based Resource pointers.</p> <h3 id="descriptor-source-is-a-local-relative-path-2"><a href="#descriptor-source-is-a-local-relative-path-2" class="header-anchor">#</a> Descriptor source is a local relative path</h3> <p>While it is never safe to accept absolute file paths for Resources, it is perfectly safe to accept them for Descriptor<br>
files. If your descriptor is loaded via a local absolute path, and the source of the Data Package is not fully<br>
trusted, you SHOULD NOT allow Data Packages with Resource pointers in</p> <ul><li>URLs. As described in <a href="https://github.com/frictionlessdata/specs/issues/650" target="_blank" rel="noopener noreferrer">issue #650<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, URLs crafted by the author<br>
of a Data Package can be used in a “keyhole” attack to probe your network layout.</li> <li>Absolute file system references. Absolute paths can be used to exfiltrate system files (eg. /etc/passwd on<br>
Unix-like systems). Relative paths will be converted to paths relative to the Descriptor file system reference,<br>
so they are considered harmless.</li></ul> <p>As long as the producer of the Data Package is on the same local network as the computer/server parsing it, it is<br>
considered safe to reference Resources via URLs, as the creator could map the network from their own workstation just<br>
as well as crafting malicious Data Packages. In the above table, this case is therefore coded in yellow.</p> <p>If Data Package parsing is part of a service offered to computers across subnets on the same LAN or even open to the<br>
internet, it NEVER safe to accept Data Packages containing URL-based Resource pointers.</p> <h3 id="descriptor-source-is-a-json-object"><a href="#descriptor-source-is-a-json-object" class="header-anchor">#</a> Descriptor source is a JSON object</h3> <p>If the Descriptor is not loaded from file but created in-memory and the source of the Data Package is not fully<br>
trusted, you SHOULD NOT allow Data Packages with Resource pointers in</p> <ul><li>URLs. As described in <a href="https://github.com/frictionlessdata/specs/issues/650" target="_blank" rel="noopener noreferrer">issue #650<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, URLs crafted by the author<br>
of a Data Package can be used in a “keyhole” attack to probe your network layout.</li> <li>file system references, relative or absolute. Absolute paths can be used to exfiltrate system files<br>
(eg. /etc/passwd on Unix-like systems). Relative paths would be constructed relative to the parsing software’s working<br>
directory and could be used to guess at configuration files to exfiltrate. OTOH, in creation of a Data Package,<br>
and if the relative paths are confined to a subdirectory, it is safe to use relative paths.</li></ul> <p>As long as the producer of the Data Package is on the same local network as the computer/server parsing it, it is<br>
considered safe to reference Resources via URLs, as the creator could map the network from their own workstation just<br>
as well as crafting malicious Data Packages. In the above table, this case is therefore coded in yellow.</p> <p>If Data Package parsing is part of a service offered to computers across subnets on the same LAN or even open to the<br>
internet, it NEVER safe to accept Data Packages containing URL-based Resource pointers.</p> <h3 id="descriptor-source-is-a-self-created-json-object"><a href="#descriptor-source-is-a-self-created-json-object" class="header-anchor">#</a> Descriptor source is a self-created JSON object</h3> <p>If the Descriptor is not loaded from file or created via a third-party application but by your software, it is<br>
generally assumed you know what you do and therefore, loading Resources from URLs or file is considered safe. You<br>
still SHOULD NOT use absolute paths as a matter of precaution - and implementing libraries should filter them out.</p> <h2 id="library-creators"><a href="#library-creators" class="header-anchor">#</a> Library creators</h2> <p>Two kinds of Resource pointers can never be guaranteed to be totally safe:</p> <ul><li>Absolute file system references. Absolute paths can be used to exfiltrate system files (eg. /etc/passwd on<br>
Unix-like systems). In your implementation, you SHOULD either raise an error if an absolute local path is encountered<br>
or relativize it to the Descriptor path.</li> <li>URLs. As described in <a href="https://github.com/frictionlessdata/specs/issues/650" target="_blank" rel="noopener noreferrer">issue #650<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, URLs crafted by the author<br>
of a Data Package can be used in a “keyhole” attack to probe your user’s network layout. It is up to the library creator<br>
to create means that allow their users to mitigate this attack.</li></ul> <p>As URLs are part of the DNA of Data Packages, it is not advisable to disallow their use completely. However, you should<br>
allow for a security setting that stops your implementation from loading URL-based Resources. This could be done</p> <ul><li>via a setting switch (<code>insecure</code>/<code>default</code>) that allows the user of your library implementation to allow or<br>
disallow absolute file paths and URL-based Resource pointers</li> <li>via a pluggable security filter that is applied as an interceptor <em>before</em> loading any pointer-based Resources. If<br>
you decide to use such a scheme, you SHOULD provide default implementations for a filter disallowing URL-based<br>
Resource and an insecure filter that allows loading of all Resources.</li></ul> <h3 id="security-filters"><a href="#security-filters" class="header-anchor">#</a> Security Filters</h3> <p>If disallowing all URL-based Resources is too heavy-handed and allowing all is too insecure, finer-grained filters<br>
should be implemented. Those finer security filters can be implemented as either blacklist or whitelist filters.<br>
Blacklist filters in principle allow all URLs and restrict some, whereas whitelist filters deny all as a default<br>
and have a limited list of allowed URLs.</p> <p>Blacklist filters in their most basic implementation would have to disallow all non-routed IP-addresses like the<br>
192.168.x.x range or the 10.100.x.x range. This would blunt mapping attacks against the internal network of your users<br>
but needs to be well thought out as even one omission could endanger network security</p> <p>Whitelist filters are much more secure as they allow the loading of Resources from a named list of domains only, but<br>
might be too restrictive for some uses.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/frictionlessdata/specs/edit/master/security/README.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2/26/2020, 10:01:56 AM</span></div></footer> <!----> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.51b46ea3.js" defer></script><script src="/assets/js/2.d6dd5bfd.js" defer></script><script src="/assets/js/5.02f86579.js" defer></script><script src="/assets/js/26.aa209af9.js" defer></script><script src="/assets/js/10.7ad32849.js" defer></script><script src="/assets/js/3.ee45f692.js" defer></script>
  </body>
</html>
