(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{395:function(e,t,a){"use strict";a.r(t);var s=a(26),n=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"patterns"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#patterns"}},[e._v("#")]),e._v(" Patterns")]),e._v(" "),a("p",[e._v("This document describes various patterns for solving common problems, in ways that are not (yet) specified in any Frictionless Data specification. If we see increased adoption, or wide support, for any pattern, it is a prime candidate for formalising as part of a specification.")]),e._v(" "),a("h2",{attrs:{id:"table-of-contents"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#table-of-contents"}},[e._v("#")]),e._v(" Table of Contents")]),e._v(" "),a("ol",[a("li",[a("a",{attrs:{href:"#private-properties"}},[e._v("Private properties")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#caching-of-resources"}},[e._v("Caching of resources")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#compression-of-resources"}},[e._v("Compression of resources")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#language-support"}},[e._v("Language support")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#translation-support"}},[e._v("Translation support")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#table-schema-foreign-keys-to-data-packages"}},[e._v("Table Schema: Foreign Keys to Data Packages")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#data-package-version"}},[e._v("Data Package Version")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#data-dependencies"}},[e._v("Data Dependencies")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#table-schema-metadata-properties"}},[e._v("Table Schema: metadata properties")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#json-data-resources"}},[e._v("JSON Data Resources")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#describing-data-package-catalogs-using-the-data-package-format"}},[e._v("Describing Data Package Catalogs using the Data Package Format")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#table-schema-unique-constraints"}},[e._v("Table Schema: Unique constraints")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#describing-files-inside-a-compressed-file-such-as-zip"}},[e._v("Describing files inside a compressed file such as Zip")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#missing-values-per-field"}},[e._v("Missing values per field")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#table-schema-enum-labels-and-ordering"}},[e._v("Table Schema: Enum labels and ordering")])]),e._v(" "),a("li",[a("a",{attrs:{href:"#table-schema-relationship-between-fields"}},[e._v("Table Schema: Relationship between Fields")])])]),e._v(" "),a("h2",{attrs:{id:"private-properties"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#private-properties"}},[e._v("#")]),e._v(" Private properties")]),e._v(" "),a("h3",{attrs:{id:"overview"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),a("p",[e._v("Some software that implements the Frictionless Data specifications may need to store additional information on the various Frictionless Data descriptors.")]),e._v(" "),a("p",[e._v("For example, a data registry that provides metadata via "),a("code",[e._v("datapackage.json")]),e._v(" may wish to set an internal version or identifier that is system-specific, and should not be considered as part of the user-generated metadata.")]),e._v(" "),a("p",[e._v("Properties to store such information should be considered “private”, and by convention, the names should be prefixed by an underscore "),a("code",[e._v("_")]),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"implementations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#implementations"}},[e._v("#")]),e._v(" Implementations")]),e._v(" "),a("p",[e._v("There are no known implementations at present.")]),e._v(" "),a("h3",{attrs:{id:"specification"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specification"}},[e._v("#")]),e._v(" Specification")]),e._v(" "),a("p",[e._v("On any Frictionless Data descriptor, data that is not generated by the author/contributors, but is generated by software/a system handling the data, "),a("code",[e._v("SHOULD")]),e._v(" be considered as “private”, and be prefixed by an underscore "),a("code",[e._v("_")]),e._v(".")]),e._v(" "),a("p",[e._v("To demonstrate, let’s take the example of a data registry that implements "),a("code",[e._v("datapackage.json")]),e._v(" for storing dataset metadata.")]),e._v(" "),a("p",[e._v("A user might upload a "),a("code",[e._v("datapackage.json")]),e._v(" as follows:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('{\n  "name": "my-package",\n  "resources": [\n    {\n      "name": "my-resource",\n      "data": [ "my-resource.csv" ]\n    }\n  ]\n}\n')])])]),a("p",[e._v("The registry itself may have a platform-specific version system, and increment versions on each update of the data. To store this information on the datapackage itself, the platform could save this information in a “private” "),a("code",[e._v("_platformVersion")]),e._v(" property as follows:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('{\n  "name": "my-package",\n  "_platformVersion": 7\n  "resources": [\n    {\n      "name": "my-resource",\n      "data": [ "my-resource.csv" ]\n    }\n  ]\n}\n')])])]),a("p",[e._v("Usage of “private” properties ensures a clear distinction between data stored on the descriptor that is user (author/contributor) defined, and any additional data that may be stored by a 3rd party.")]),e._v(" "),a("h2",{attrs:{id:"caching-of-resources"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#caching-of-resources"}},[e._v("#")]),e._v(" Caching of resources")]),e._v(" "),a("h3",{attrs:{id:"overview-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview-2"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),a("p",[e._v("All Frictionless Data specifications allow for referencing resources via http or a local filesystem.")]),e._v(" "),a("p",[e._v("In the case of remote resources via http, there is always the possibility that the remote server will be unavailable, or, that the resource itself will be temporarily or permanently removed.")]),e._v(" "),a("p",[e._v("Applications that are concerned with the persistent storage of data described in Frictionless Data specifications can use a "),a("code",[e._v("_cache")]),e._v(" property that mirrors the functionality and usage of the "),a("code",[e._v("data")]),e._v(" property, and refers to a storage location for the data that the application can fall back to if the canonical resource is unavailable.")]),e._v(" "),a("h3",{attrs:{id:"implementations-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#implementations-2"}},[e._v("#")]),e._v(" Implementations")]),e._v(" "),a("p",[e._v("There are no known implementations of this pattern at present.")]),e._v(" "),a("h3",{attrs:{id:"specification-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specification-2"}},[e._v("#")]),e._v(" Specification")]),e._v(" "),a("p",[e._v("Implementations "),a("code",[e._v("MAY")]),e._v(" handle a "),a("code",[e._v("_cache")]),e._v(" property on any descriptor that supports a "),a("code",[e._v("data")]),e._v(" property. In the case that the data referenced in "),a("code",[e._v("data")]),e._v(" is unavailable, "),a("code",[e._v("_cache")]),e._v(" should be used as a fallback to access the data. The handling of the data stored at "),a("code",[e._v("_cache")]),e._v(" is beyond the scope of the specification. Implementations might store a copy of the resources in "),a("code",[e._v("data")]),e._v(" at ingestion time, update at regular intervals, or any other method to keep an up-to-date, persistent copy.")]),e._v(" "),a("p",[e._v("Some examples of the "),a("code",[e._v("_cache")]),e._v(" property.")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('{\n  "name": "my-package",\n  "resources": [\n    {\n      "name": "my-resource",\n      "data": [ "http://example.com/data/csv/my-resource.csv" ],\n      "_cache": "my-resource.csv"\n    },\n    {\n      "name": "my-resource",\n      "data": [ "http://example.com/data/csv/my-resource.csv" ],\n      "_cache": "http://data.registry.com/user/files/my-resource.csv"\n    },\n    {\n      "name": "my-resource",\n      "data": [\n        "http://example.com/data/csv/my-resource.csv",\n        "http://somewhere-else.com/data/csv/resource2.csv"\n      ],\n      "_cache": [\n        "my-resource.csv",\n        "resource2.csv"\n      ]\n    },\n    {\n      "name": "my-resource",\n      "data": [ "http://example.com/data/csv/my-resource.csv" ],\n      "_cache": "my-resource.csv"\n    }\n  ]\n}\n')])])]),a("h2",{attrs:{id:"compression-of-resources"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#compression-of-resources"}},[e._v("#")]),e._v(" Compression of resources")]),e._v(" "),a("h3",{attrs:{id:"overview-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview-3"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),a("p",[e._v("It can be argued that applying compression to data resources can make data package publishing more cost-effective and sustainable. Compressing data resources gives publishers the benefit of reduced storage and bandwidth costs and gives consumers the benefit of shorter download times.")]),e._v(" "),a("h3",{attrs:{id:"implementations-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#implementations-3"}},[e._v("#")]),e._v(" Implementations")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/frictionlessdata/tabulator-py",target:"_blank",rel:"noopener noreferrer"}},[e._v("tabulator-py (Gzip and Zip support)"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/nimblelearn/datapackage-connector",target:"_blank",rel:"noopener noreferrer"}},[e._v("datapackage-connector (Gzip support)"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/nimblelearn/datapackage-m",target:"_blank",rel:"noopener noreferrer"}},[e._v("datapackage-m (Gzip support)"),a("OutboundLink")],1)])]),e._v(" "),a("h3",{attrs:{id:"specification-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specification-3"}},[e._v("#")]),e._v(" Specification")]),e._v(" "),a("p",[e._v("All compressed resources "),a("code",[e._v("MUST")]),e._v(" have a "),a("code",[e._v("path")]),e._v(" that allows the "),a("code",[e._v("compression")]),e._v(" property to be inferred. If the compression can’t be inferred from the "),a("code",[e._v("path")]),e._v(" property (e.g. a custom file extension is used) then the "),a("code",[e._v("compression")]),e._v(" property "),a("code",[e._v("MUST")]),e._v(" be used to specify the compression.")]),e._v(" "),a("p",[e._v("Supported compression types:")]),e._v(" "),a("ul",[a("li",[e._v("gz")]),e._v(" "),a("li",[e._v("zip")])]),e._v(" "),a("p",[e._v("Example of a compressed resource with implied compression:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('{\n  "name": "data-resource-compression-example",\n  "path": "http://example.com/large-data-file.csv.gz",\n  "title": "Large Data File",\n  "description": "This large data file benefits from compression.",\n  "format": "csv",\n  "mediatype": "text/csv",\n  "encoding": "utf-8",\n  "bytes": 1073741824\n}\n')])])]),a("p",[e._v("Example of a compressed resource with the "),a("code",[e._v("compression")]),e._v(" property:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('{\n  "name": "data-resource-compression-example",\n  "path": "http://example.com/large-data-file.csv.gz",\n  "title": "Large Data File",\n  "description": "This large data file benefits from compression.",\n  "format": "csv",\n  "compression" : "gz",\n  "mediatype": "text/csv",\n  "encoding": "utf-8",\n  "bytes": 1073741824\n}\n')])])]),a("div",{staticClass:"custom-block tip"},[a("p",{staticClass:"custom-block-title"},[e._v("NOTE")]),e._v(" "),a("p",[e._v("Resource properties e.g. bytes, hash etc apply to the compressed object – not to the original uncompressed object.")])]),e._v(" "),a("h2",{attrs:{id:"language-support"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#language-support"}},[e._v("#")]),e._v(" Language support")]),e._v(" "),a("h3",{attrs:{id:"overview-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview-4"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),a("p",[e._v("Language support is a different concern to translation support. Language support deals with declaring the default language of a descriptor and the data it contains in the resources array. Language support makes no claim about the presence of translations when one or more languages are supported in a descriptor or in data. Via the introduction of a "),a("code",[e._v("languages")]),e._v(" array to any descriptor, we can declare the default language, and any other languages that "),a("code",[e._v("SHOULD")]),e._v(" be found in the descriptor and the data.")]),e._v(" "),a("h3",{attrs:{id:"implementations-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#implementations-4"}},[e._v("#")]),e._v(" Implementations")]),e._v(" "),a("p",[e._v("There are no known implementations of this pattern at present.")]),e._v(" "),a("h3",{attrs:{id:"specification-4"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specification-4"}},[e._v("#")]),e._v(" Specification")]),e._v(" "),a("p",[e._v("Any Frictionless Data descriptor can declare the language configuration of its metadata and data with the "),a("code",[e._v("languages")]),e._v(" array.")]),e._v(" "),a("p",[a("code",[e._v("languages")]),e._v(" "),a("code",[e._v("MUST")]),e._v(" be an array, and the first item in the array is the default (non-translated) language.")]),e._v(" "),a("p",[e._v("If no "),a("code",[e._v("languages")]),e._v(" array is present, the default language is English ("),a("code",[e._v("en")]),e._v("), and therefore is equivalent to:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('{\n  "name": "my-package",\n  "languages": ["en"]\n}\n')])])]),a("p",[e._v("The presence of a languages array does not ensure that the metadata or the data has translations for all supported languages.")]),e._v(" "),a("p",[e._v("The descriptor and data sources "),a("code",[e._v("MUST")]),e._v(" be in the default language. The descriptor and data sources "),a("code",[e._v("MAY")]),e._v(" have translations for the other languages in the array, using the same language code. "),a("code",[e._v("IF")]),e._v(" a translation is not present, implementing code "),a("code",[e._v("MUST")]),e._v(" fallback to the default language string.")]),e._v(" "),a("p",[e._v("Example usage of "),a("code",[e._v("languages")]),e._v(", implemented in the metadata of a descriptor:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('{\n  "name": "sun-package",\n  "languages": ["es", "en"],\n  "title": "Sol"\n}\n\n# which is equivalent to\n{\n  "name": "sun-package",\n  "languages": ["es", "en"],\n  "title": {\n    "": "Sol",\n    "en": "Sun"\n  }\n}\n')])])]),a("p",[e._v("Example usage of "),a("code",[e._v("languages")]),e._v(" implemented in the data described by a resource:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('# resource descriptor\n{\n  "name": "solar-system",\n  "data": [ "solar-system.csv" ]\n  "fields": [\n    ...\n  ],\n  "languages": ["es", "en", "he", "fr", "ar"]\n}\n\n# data source\n# some languages have translations, some do not\n# assumes a certain translation pattern, see the related section\nid,name,name@fr,name@he,name@en\n1,Sol,Soleil,שמש,Sun\n2,Luna,Lune,ירח,Moon\n')])])]),a("h2",{attrs:{id:"translation-support"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#translation-support"}},[e._v("#")]),e._v(" Translation support")]),e._v(" "),a("h3",{attrs:{id:"overview-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview-5"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),a("p",[e._v("Following on from a general pattern for language support, and the explicit support of metadata translations in Frictionless Data descriptors, it would be desirable to support translations in source data.")]),e._v(" "),a("p",[e._v("We currently have two patterns for this in discussion. Both patterns arise from real-world implementations that are not specifically tied to Frictionless Data.")]),e._v(" "),a("p",[e._v("One pattern suggests inline translations with the source data, reserving the "),a("code",[e._v("@")]),e._v(" symbol in the naming of fields to denote translations.")]),e._v(" "),a("p",[e._v("The other describes a pattern for storing additional translation sources, co-located with the “source” file described in a descriptor "),a("code",[e._v("data")]),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"implementations-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#implementations-5"}},[e._v("#")]),e._v(" Implementations")]),e._v(" "),a("p",[e._v("There are no known implementations of this pattern in the Frictionless Data core libraries at present.")]),e._v(" "),a("h3",{attrs:{id:"specification-5"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specification-5"}},[e._v("#")]),e._v(" Specification")]),e._v(" "),a("h4",{attrs:{id:"inline"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#inline"}},[e._v("#")]),e._v(" Inline")]),e._v(" "),a("p",[a("strong",[e._v("Uses a column naming convention for accessing translations")]),e._v(".")]),e._v(" "),a("p",[e._v("Tabular resource descriptors support translations using "),a("code",[e._v("{field_name}@{lang_code}")]),e._v(" syntax for translated field names. "),a("code",[e._v("lang_code")]),e._v(" "),a("code",[e._v("MUST")]),e._v(" be present in the "),a("code",[e._v("languages")]),e._v(" array that applies to the resource.")]),e._v(" "),a("p",[e._v("Any field with the "),a("code",[e._v("@")]),e._v(" symbol "),a("code",[e._v("MUST")]),e._v(" be a translation field for another field of data, and "),a("code",[e._v("MUST")]),e._v(" be parsable according to the "),a("code",[e._v("{field_name}@{lang_code}")]),e._v(" pattern.")]),e._v(" "),a("p",[e._v("If a translation field is found in the data that does not have a corresponding "),a("code",[e._v("field")]),e._v(" (e.g.: "),a("code",[e._v("title@es")]),e._v(" but no "),a("code",[e._v("title")]),e._v("), then the translation field "),a("code",[e._v("SHOULD")]),e._v(" be ignored.")]),e._v(" "),a("p",[e._v("If a translation field is found in the data that uses a "),a("code",[e._v("lang_code")]),e._v(" "),a("em",[e._v("not")]),e._v(" declared in the applied "),a("code",[e._v("languages")]),e._v(" array, then the translation field "),a("code",[e._v("SHOULD")]),e._v(" be ignored.")]),e._v(" "),a("p",[e._v("Translation fields "),a("code",[e._v("MUST NOT")]),e._v(" be described in a schema "),a("code",[e._v("fields")]),e._v(" array.")]),e._v(" "),a("p",[e._v("Translation fields "),a("code",[e._v("MUST")]),e._v(" match the "),a("code",[e._v("type")]),e._v(", "),a("code",[e._v("format")]),e._v(" and "),a("code",[e._v("constraints")]),e._v(" of the field they translate, with a single exception: Translation fields are never required, and therefore "),a("code",[e._v("constraints.required")]),e._v(" is always "),a("code",[e._v("false")]),e._v(" for a translation field.")]),e._v(" "),a("h4",{attrs:{id:"co-located-translation-sources"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#co-located-translation-sources"}},[e._v("#")]),e._v(" Co-located translation sources")]),e._v(" "),a("p",[a("strong",[e._v("Uses a file storage convention for accessing translations")]),e._v(".")]),e._v(" "),a("p",[e._v("To be contributed by @jheeffer")]),e._v(" "),a("ul",[a("li",[e._v("Has to handle local and remote resources")]),e._v(" "),a("li",[e._v("Has to be explicit about the translation key/value  pattern in the translation files")])]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v("# local\ndata/file1.csv\ndata/lang/file1-en.csv\ndata/lang/file1-es.csv\n\n# remote\nhttp://example/com/data/file2.csv\nhttp://example/com/data/lang/file2-en.csv\nhttp://example/com/data/lang/file2-es.csv\n")])])]),a("h2",{attrs:{id:"table-schema-foreign-keys-to-data-packages"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#table-schema-foreign-keys-to-data-packages"}},[e._v("#")]),e._v(" Table Schema: Foreign Keys to Data Packages")]),e._v(" "),a("h3",{attrs:{id:"overview-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview-6"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),a("p",[e._v("A foreign key is a reference where values in a field (or fields) in a Tabular Data Resource link to values in a field (or fields) in a Tabular Data Resource in the same or in another Tabular Data Package.")]),e._v(" "),a("p",[e._v("This pattern allows users to link values in a field (or fields) in a Tabular Data Resource to values in a field (or fields) in a Tabular Data Resource in a different Tabular Data Package.")]),e._v(" "),a("h3",{attrs:{id:"specification-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specification-6"}},[e._v("#")]),e._v(" Specification")]),e._v(" "),a("p",[e._v("The "),a("RouterLink",{attrs:{to:"/table-schema/#foreign-keys"}},[a("code",[e._v("foreignKeys")])]),e._v(" array MAY have a property "),a("code",[e._v("package")]),e._v(". This property MUST be, either:")],1),e._v(" "),a("ul",[a("li",[e._v("a string that is a fully qualified HTTP address to a Data Package "),a("code",[e._v("datapackage.json")]),e._v(" file")]),e._v(" "),a("li",[e._v("a data package "),a("RouterLink",{attrs:{to:"/data-package/#name"}},[a("code",[e._v("name")])]),e._v(" that can be resolved by a canonical data package registry")],1)]),e._v(" "),a("p",[e._v("If the referenced data package has an "),a("RouterLink",{attrs:{to:"/data-package/#id"}},[a("code",[e._v("id")])]),e._v(" that is a fully qualified HTTP address, it SHOULD be used as the "),a("code",[e._v("package")]),e._v(" value.")],1),e._v(" "),a("p",[e._v("For example:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('"foreignKeys": [{\n    "fields": ["code"],\n    "reference": {\n      "package": "https://raw.githubusercontent.com/frictionlessdata/example-data-packages/master/donation-codes/datapackage.json",\n      "resource": "donation-codes",\n      "fields": ["donation code"]\n    }\n  }]\n')])])]),a("h2",{attrs:{id:"data-package-version"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-package-version"}},[e._v("#")]),e._v(" Data Package Version")]),e._v(" "),a("h3",{attrs:{id:"specification-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specification-7"}},[e._v("#")]),e._v(" Specification")]),e._v(" "),a("p",[e._v("The Data Package version format follows the "),a("a",{attrs:{href:"http://semver.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("Semantic Versioning"),a("OutboundLink")],1),e._v(" specification format: MAJOR.MINOR.PATCH")]),e._v(" "),a("p",[e._v("The version numbers, and the way they change, convey meaning about how the data package has been modified from one version to the next.")]),e._v(" "),a("p",[e._v("Given a Data Package version number MAJOR.MINOR.PATCH, increment the:")]),e._v(" "),a("p",[e._v("MAJOR version when you make incompatible changes, e.g.")]),e._v(" "),a("ul",[a("li",[e._v("Change the data package, resource or field "),a("code",[e._v("name")]),e._v(" or  "),a("code",[e._v("identifier")])]),e._v(" "),a("li",[e._v("Add, remove or re-order fields")]),e._v(" "),a("li",[e._v("Change a field "),a("code",[e._v("type")]),e._v(" or "),a("code",[e._v("format")])]),e._v(" "),a("li",[e._v("Change a field "),a("code",[e._v("constraint")]),e._v(" to be more restrictive")]),e._v(" "),a("li",[e._v("Combine, split, delete or change the meaning of data that is referenced by another data resource")])]),e._v(" "),a("p",[e._v("MINOR version when you add data or change metadata in a backwards-compatible manner, e.g.")]),e._v(" "),a("ul",[a("li",[e._v("Add a new data resource to a data package")]),e._v(" "),a("li",[e._v("Add new data to an existing data resource")]),e._v(" "),a("li",[e._v("Change a field "),a("code",[e._v("constraint")]),e._v(" to be less restrictive")]),e._v(" "),a("li",[e._v("Update a reference to another data resource")]),e._v(" "),a("li",[e._v("Change data to reflect changes in referenced data")])]),e._v(" "),a("p",[e._v("PATCH version when you make backwards-compatible fixes, e.g.")]),e._v(" "),a("ul",[a("li",[e._v("Correct errors in existing data")]),e._v(" "),a("li",[e._v("Change descriptive metadata properties")])]),e._v(" "),a("h3",{attrs:{id:"scenarios"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#scenarios"}},[e._v("#")]),e._v(" Scenarios")]),e._v(" "),a("ul",[a("li",[e._v("You are developing your data though public consultation. Start your initial data release at 0.1.0")]),e._v(" "),a("li",[e._v("You release your data for the first time. Use version 1.0.0")]),e._v(" "),a("li",[e._v("You append last months data to an existing release. Increment the MINOR version number")]),e._v(" "),a("li",[e._v("You append a column to the data. Increment the MAJOR version number")]),e._v(" "),a("li",[e._v("You relocate the data to a new "),a("code",[e._v("URL")]),e._v(" or "),a("code",[e._v("path")]),e._v(". No change in the version number")]),e._v(" "),a("li",[e._v("You change a "),a("code",[e._v("title")]),e._v(", "),a("code",[e._v("description")]),e._v(", or other descriptive metadata. Increment the PATCH version")]),e._v(" "),a("li",[e._v("You fix a data entry error by modifying a value. Increment the PATCH version")]),e._v(" "),a("li",[e._v("You split a row of data in a foreign key reference table. Increment the MAJOR version number")]),e._v(" "),a("li",[e._v("You update the data and schema to refer to a new version of a foreign key reference table. Increment the MINOR version number")])]),e._v(" "),a("h2",{attrs:{id:"data-dependencies"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#data-dependencies"}},[e._v("#")]),e._v(" Data Dependencies")]),e._v(" "),a("p",[e._v("Consider a situation where data packages are part of a tool chain that, say, loads all of the data into an SQL db. You can then imagine a situation where one requires package A which requires package B + C.")]),e._v(" "),a("p",[e._v("In this case you want to specify that A depends on B and C – and that “installing” A should install B and C. This is the purpose of "),a("code",[e._v("dataDependencies")]),e._v(" property.")]),e._v(" "),a("h3",{attrs:{id:"specification-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specification-8"}},[e._v("#")]),e._v(" Specification")]),e._v(" "),a("p",[a("code",[e._v("dataDependencies")]),e._v(" is an object. It follows same format as CommonJS Packages spec v1.1. Each dependency defines the lowest compatible MAJOR[.MINOR[.PATCH]] dependency versions (only one per MAJOR version) with which the package has been tested and is assured to work. The version may be a simple version string (see the version property for acceptable forms), or it may be an object group of dependencies which define a set of options, any one of which satisfies the dependency. The ordering of the group is significant and earlier entries have higher priority. Example:")]),e._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"dataDependencies"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n   "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"country-codes"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n   "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"unemployment"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"2.1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n   "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"geo-boundaries"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n     "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"acmecorp-geo-boundaries"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"1.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"2.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n     "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"othercorp-geo-boundaries"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"0.9.8"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("h3",{attrs:{id:"implementations-6"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#implementations-6"}},[e._v("#")]),e._v(" Implementations")]),e._v(" "),a("p",[e._v("None known.")]),e._v(" "),a("h2",{attrs:{id:"table-schema-metadata-properties"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#table-schema-metadata-properties"}},[e._v("#")]),e._v(" Table Schema: metadata properties")]),e._v(" "),a("h3",{attrs:{id:"overview-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview-7"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),a("p",[e._v("Table Schemas need their own metadata to be stand-alone and interpreted without relying on other contextual information (Data Package metadata for example). Adding metadata to describe schemas in a structured way would help users to understand them and would increase their sharing and reuse.")]),e._v(" "),a("p",[e._v("Currently it is possible to add custom properties to a Table Schema, but the lack of consensus about those properties restricts common tooling and wider adoption.")]),e._v(" "),a("h3",{attrs:{id:"use-cases"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#use-cases"}},[e._v("#")]),e._v(" Use cases")]),e._v(" "),a("ul",[a("li",[e._v("Documentation: generating Markdown documentation from the schema itself is a useful use case, and contextual information (description, version, authors…) needs to be retrieved.")]),e._v(" "),a("li",[e._v("Cataloging: open data standardisation can be increased by improving Table Schemas shareability, for example by searching and categorising them (by keywords, countries, full-text…) in catalogs.")]),e._v(" "),a("li",[e._v("Machine readability: tools like Goodtables could use catalogs to access Table Schemas in order to help users validate tabular files against existing schemas. Metadata would be needed for tools to find and read those schemas.")])]),e._v(" "),a("h3",{attrs:{id:"specification-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specification-9"}},[e._v("#")]),e._v(" Specification")]),e._v(" "),a("p",[e._v("This pattern introduces the following properties to the Table Schema spec (using "),a("a",{attrs:{href:"https://github.com/frictionlessdata/specs/blob/master/schemas/dictionary/common.yml",target:"_blank",rel:"noopener noreferrer"}},[e._v("the Frictionless Data core dictionary"),a("OutboundLink")],1),e._v(" as much as possible):")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("name")]),e._v(": An identifier string for this schema.")]),e._v(" "),a("li",[a("code",[e._v("title")]),e._v(": A human-readable title for this schema.")]),e._v(" "),a("li",[a("code",[e._v("description")]),e._v(": A text description for this schema.")]),e._v(" "),a("li",[a("code",[e._v("keywords")]),e._v(": The keyword(s) that describe this schema."),a("br"),e._v(" "),a("em",[e._v("Tags are useful to categorise and catalog schemas.")])]),e._v(" "),a("li",[a("code",[e._v("countryCode")]),e._v(": The ISO 3166-1 alpha-2 code for the country where this schema is primarily used."),a("br"),e._v(" "),a("em",[e._v("Since open data schemas are very country-specific, it’s useful to have this information in a structured way.")])]),e._v(" "),a("li",[a("code",[e._v("homepage")]),e._v(": The home on the web that is related to this schema.")]),e._v(" "),a("li",[a("code",[e._v("path")]),e._v(": A fully qualified URL for this schema."),a("br"),e._v(" "),a("em",[e._v("The direct path to the schema itself can be useful to help accessing it (i.e. machine readability).")])]),e._v(" "),a("li",[a("code",[e._v("image")]),e._v(": An image to represent this schema."),a("br"),e._v(" "),a("em",[e._v("An optional illustration can be useful for example in catalogs to differentiate schemas in a list.")])]),e._v(" "),a("li",[a("code",[e._v("licenses")]),e._v(": The license(s) under which this schema is published.")]),e._v(" "),a("li",[a("code",[e._v("resources")]),e._v(": Example tabular data resource(s) validated or invalidated against this schema."),a("br"),e._v(" "),a("em",[e._v("Oftentimes, schemas are shared with example resources to illustrate them, with valid or even invalid files (e.g. with constraint errors).")])]),e._v(" "),a("li",[a("code",[e._v("sources")]),e._v(": The source(s) used to created this schema."),a("br"),e._v(" "),a("em",[e._v("In some cases, schemas are created after a legal text or some draft specification in a human-readable document. In those cases, it’s useful to share them with the schema.")])]),e._v(" "),a("li",[a("code",[e._v("created")]),e._v(": The datetime on which this schema was created.")]),e._v(" "),a("li",[a("code",[e._v("lastModified")]),e._v(": The datetime on which this schema was last modified.")]),e._v(" "),a("li",[a("code",[e._v("version")]),e._v(": A unique version number for this schema.")]),e._v(" "),a("li",[a("code",[e._v("contributors")]),e._v(": The contributors to this schema.")])]),e._v(" "),a("h3",{attrs:{id:"example-schema"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example-schema"}},[e._v("#")]),e._v(" Example schema")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('{\n  "$schema": "https://specs.frictionlessdata.io/schemas/table-schema.json",\n  "name": "irve",\n  "title": "Infrastructures de recharge de véhicules électriques",\n  "description": "Spécification du fichier d\'échange relatif aux données concernant la localisation géographique et les caractéristiques techniques des stations et des points de recharge pour véhicules électriques",\n  "keywords": [\n      "electric vehicle",\n      "ev",\n      "charging station",\n      "mobility"\n  ],\n  "countryCode": "FR",\n  "homepage": "https://github.com/etalab/schema-irve",\n  "path": "https://github.com/etalab/schema-irve/raw/v1.0.1/schema.json",\n  "image": "https://github.com/etalab/schema-irve/raw/v1.0.1/irve.png",\n  "licenses": [\n    {\n      "title": "Creative Commons Zero v1.0 Universal",\n      "name": "CC0-1.0",\n      "path": "https://creativecommons.org/publicdomain/zero/1.0/"\n    }\n  ],\n  "resources": [\n    {\n      "title": "Valid resource",\n      "name": "exemple-valide",\n      "path": "https://github.com/etalab/schema-irve/raw/v1.0.1/exemple-valide.csv"\n    },\n    {\n      "title": "Invalid resource",\n      "name": "exemple-invalide",\n      "path": "https://github.com/etalab/schema-irve/raw/v1.0.1/exemple-invalide.csv"\n    }\n  ],\n  "sources": [\n    {\n      "title": "Arrêté du 12 janvier 2017 relatif aux données concernant la localisation géographique et les caractéristiques techniques des stations et des points de recharge pour véhicules électriques",\n      "path": "https://www.legifrance.gouv.fr/eli/arrete/2017/1/12/ECFI1634257A/jo/texte"\n    }\n  ],\n  "created": "2018-06-29",\n  "lastModified": "2019-05-06",\n  "version": "1.0.1",\n  "contributors": [\n    {\n      "title": "John Smith",\n      "email": "john.smith@etalab.gouv.fr",\n      "organization": "Etalab",\n      "role": "author"\n    },\n    {\n      "title": "Jane Doe",\n      "email": "jane.doe@aol.com",\n      "organization": "Civil Society Organization X",\n      "role": "contributor"\n    }\n  ],\n  "fields": [ ]\n}\n')])])]),a("h3",{attrs:{id:"implementations-7"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#implementations-7"}},[e._v("#")]),e._v(" Implementations")]),e._v(" "),a("p",[e._v("The following links are actual examples already using this pattern, but not 100 % aligned with our proposal. The point is to make the Table Schema users converge towards a common pattern, before considering changing the spec.")]),e._v(" "),a("ul",[a("li",[e._v("@OpenDataFrance has initiated the creation of "),a("a",{attrs:{href:"http://git.opendatafrance.net/scdl/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Table Schemas"),a("OutboundLink")],1),e._v(" to standardise common French open data datasets. "),a("a",{attrs:{href:"http://scdl.opendatafrance.net/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Their Markdown documentation"),a("OutboundLink")],1),e._v(" is generated automatically from the schemas ("),a("a",{attrs:{href:"https://git.opendatafrance.net/validata/validata-doc-generator/",target:"_blank",rel:"noopener noreferrer"}},[e._v("using some scripts"),a("OutboundLink")],1),e._v("), including contextual information.")]),e._v(" "),a("li",[e._v("A tool called "),a("a",{attrs:{href:"https://go.validata.fr/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Validata"),a("OutboundLink")],1),e._v(" was developed, based on Goodtables, to help French open data producers follow the schemas. It uses metadata from the schemas to present them.")]),e._v(" "),a("li",[e._v("@Etalab has launched "),a("a",{attrs:{href:"http://schema.data.gouv.fr/",target:"_blank",rel:"noopener noreferrer"}},[e._v("schema.data.gouv.fr"),a("OutboundLink")],1),e._v(", an official open data schema catalog, which is specific to France. "),a("a",{attrs:{href:"https://schema.data.gouv.fr/documentation/validation-schemas#validations-sp%C3%A9cifiques-au-format-table-schema",target:"_blank",rel:"noopener noreferrer"}},[e._v("It needs additional metadata in the schemas to validate them"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/etalab/schema-irve/blob/master/schema.json",target:"_blank",rel:"noopener noreferrer"}},[e._v("Example Table Schema"),a("OutboundLink")],1),e._v(" from @Etalab using metadata properties.")])]),e._v(" "),a("h2",{attrs:{id:"json-data-resources"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#json-data-resources"}},[e._v("#")]),e._v(" JSON Data Resources")]),e._v(" "),a("h3",{attrs:{id:"overview-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview-8"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),a("p",[e._v("A simple format to describe a single structured JSON data resource. It includes support both for metadata such as author and title and a "),a("a",{attrs:{href:"https://json-schema.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("schema"),a("OutboundLink")],1),e._v(" to describe the data.")]),e._v(" "),a("h3",{attrs:{id:"introduction"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[e._v("#")]),e._v(" Introduction")]),e._v(" "),a("p",[e._v("A "),a("strong",[e._v("JSON Data Resource")]),e._v(" is a type of "),a("RouterLink",{attrs:{to:"/data-resource/"}},[e._v("Data Resource")]),e._v(" specialized for describing structured JSON data.")],1),e._v(" "),a("p",[e._v("JSON Data Resource extends "),a("RouterLink",{attrs:{to:"/data-resource/"}},[e._v("Data Resource")]),e._v(" in following key ways:")],1),e._v(" "),a("ul",[a("li",[e._v("The "),a("code",[e._v("schema")]),e._v(" property MUST follow the "),a("a",{attrs:{href:"https://json-schema.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("JSON Schema"),a("OutboundLink")],1),e._v(" specification,"),a("br"),e._v("\neither as a JSON object directly under the property, or a string referencing another"),a("br"),e._v("\nJSON document containing the JSON Schema")])]),e._v(" "),a("h3",{attrs:{id:"examples"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#examples"}},[e._v("#")]),e._v(" Examples")]),e._v(" "),a("p",[e._v("A minimal JSON Data Resource, referencing external JSON documents, looks as follows.")]),e._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// with data and a schema accessible via the local filesystem")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"profile"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"json-data-resource"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"resource-name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"path"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"resource-path.json"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"schema"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"jsonschema.json"')]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// with data accessible via http")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"profile"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"json-data-resource"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"resource-name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"path"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"http://example.com/resource-path.json"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"schema"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"http://example.com/jsonschema.json"')]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("p",[e._v("A minimal JSON Data Resource example using the data property to inline data looks as follows.")]),e._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"profile"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"json-data-resource"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"resource-name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"first_name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Louise"')]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"schema"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"object"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"required"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"id"')]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"properties"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"integer"')]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"first_name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"string"')]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("p",[e._v("A comprehensive JSON Data Resource example with all required, recommended and optional properties looks as follows.")]),e._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"profile"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"json-data-resource"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"solar-system"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"path"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"http://example.com/solar-system.json"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"title"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"The Solar System"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"description"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"My favourite data about the solar system."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"format"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"json"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"mediatype"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"application/json"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"encoding"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"utf-8"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"bytes"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"hash"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"schema"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"$schema"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"http://json-schema.org/draft-07/schema#"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"object"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"required"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"id"')]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"properties"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"integer"')]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"string"')]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"description"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"string"')]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"sources"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"title"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"The Solar System - 2001"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"path"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"http://example.com/solar-system-2001.json"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"email"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"licenses"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"CC-BY-4.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"title"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Creative Commons Attribution 4.0"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"path"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"https://creativecommons.org/licenses/by/4.0/"')]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("h3",{attrs:{id:"specification-10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specification-10"}},[e._v("#")]),e._v(" Specification")]),e._v(" "),a("p",[e._v("A JSON Data Resource MUST be a "),a("RouterLink",{attrs:{to:"/data-resource/"}},[e._v("Data Resource")]),e._v(", that is it MUST conform to the "),a("RouterLink",{attrs:{to:"/data-resource/"}},[e._v("Data Resource specification")]),e._v(".")],1),e._v(" "),a("p",[e._v("In addition:")]),e._v(" "),a("ul",[a("li",[e._v("The Data Resource "),a("code",[e._v("schema")]),e._v(" property MUST follow the "),a("a",{attrs:{href:"https://json-schema.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("JSON Schema"),a("OutboundLink")],1),e._v(" specification,"),a("br"),e._v("\neither as a JSON object directly under the property, or a string referencing another"),a("br"),e._v("\nJSON document containing the JSON Schema")])]),e._v(" "),a("ul",[a("li",[e._v("There "),a("code",[e._v("MUST")]),e._v(" be a "),a("code",[e._v("profile")]),e._v(" property with the value "),a("code",[e._v("json-data-resource")])])]),e._v(" "),a("ul",[a("li",[e._v("The data the Data Resource describes MUST, if non-inline, be a JSON file")])]),e._v(" "),a("h3",{attrs:{id:"json-file-requirements"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#json-file-requirements"}},[e._v("#")]),e._v(" JSON file requirements")]),e._v(" "),a("p",[e._v("When "),a("code",[e._v('"format": "json"')]),e._v(", files must strictly follow the "),a("a",{attrs:{href:"https://www.json.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("JSON specification"),a("OutboundLink")],1),e._v(". Some implementations "),a("code",[e._v("MAY")]),e._v(" support "),a("code",[e._v('"format": "jsonc"')]),e._v(", allowing for non-standard single line and block comments ("),a("code",[e._v("//")]),e._v(" and "),a("code",[e._v("/* */")]),e._v(" respectively).")]),e._v(" "),a("h3",{attrs:{id:"implementations-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#implementations-8"}},[e._v("#")]),e._v(" Implementations")]),e._v(" "),a("p",[e._v("None known.")]),e._v(" "),a("h2",{attrs:{id:"describing-data-package-catalogs-using-the-data-package-format"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#describing-data-package-catalogs-using-the-data-package-format"}},[e._v("#")]),e._v(" Describing Data Package Catalogs using the Data Package Format")]),e._v(" "),a("h3",{attrs:{id:"overview-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview-9"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),a("p",[e._v("There are scenarios where one needs to describe a collection of data packages, such as when building an online registry, or when building a pipeline that ingests multiple datasets.")]),e._v(" "),a("p",[e._v("In these scenarios, the collection can be described using a “Catalog”, where each dataset is represented as a single resource which has:")]),e._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"profile"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"data-package"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"format"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"json"')]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("h3",{attrs:{id:"specification-11"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specification-11"}},[e._v("#")]),e._v(" Specification")]),e._v(" "),a("p",[e._v("The Data Package Catalog builds directly on the Data Package specification. Thus a Data Package Catalog "),a("code",[e._v("MUST")]),e._v(" be a Data Package and conform to the "),a("RouterLink",{attrs:{to:"/data-package/"}},[e._v("Data Package specification")]),e._v(".")],1),e._v(" "),a("p",[e._v("The Data Package Catalog has the following requirements over and above those imposed by Data Package:")]),e._v(" "),a("ul",[a("li",[e._v("There "),a("code",[e._v("MUST")]),e._v(" be a "),a("code",[e._v("profile")]),e._v(" property with the value "),a("code",[e._v("data-package-catalog")]),e._v(", or a "),a("code",[e._v("profile")]),e._v(" that extends it")]),e._v(" "),a("li",[e._v("Each resource "),a("code",[e._v("MUST")]),e._v(" also be a Data Package")])]),e._v(" "),a("h4",{attrs:{id:"examples-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#examples-2"}},[e._v("#")]),e._v(" Examples")]),e._v(" "),a("p",[e._v("A generic package catalog:")]),e._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"profile"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"data-package-catalog"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"climate-change-packages"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"resources"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"profile"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"json-data-package"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"format"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"json"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"beacon-network-description"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"path"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"https://http://beacon.berkeley.edu/hypothetical_deployment_description.json"')]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"profile"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"tabular-data-package"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"format"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"json"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"path"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"https://pkgstore.datahub.io/core/co2-ppm/10/datapackage.json"')]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"profile"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"tabular-data-package"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"co2-fossil-global"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"format"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"json"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"path"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"https://pkgstore.datahub.io/core/co2-fossil-global/11/datapackage.json"')]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("p",[e._v("A minimal tabular data catalog:")]),e._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"profile"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"tabular-data-package-catalog"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"datahub-climate-change-packages"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"resources"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"path"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"https://pkgstore.datahub.io/core/co2-ppm/10/datapackage.json"')]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"co2-fossil-global"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"path"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"https://pkgstore.datahub.io/core/co2-fossil-global/11/datapackage.json"')]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("p",[e._v("Data packages can also be declared inline in the data catalog:")]),e._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"profile"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"tabular-data-package-catalog"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"my-data-catalog"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"resources"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"profile"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"tabular-data-package"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"my-dataset"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[e._v("// here we list the data files in this dataset")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"resources"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"profile"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"tabular-data-resource"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"resource-name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"data"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n              "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n              "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"first_name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Louise"')]),e._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n              "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"id"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n              "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"first_name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"Julia"')]),e._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"schema"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"fields"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n              "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"id"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"integer"')]),e._v("\n              "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n              "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"first_name"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n                "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"string"')]),e._v("\n              "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n            "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n            "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"primaryKey"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"id"')]),e._v("\n          "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("h3",{attrs:{id:"implementations-9"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#implementations-9"}},[e._v("#")]),e._v(" Implementations")]),e._v(" "),a("p",[e._v("None known.")]),e._v(" "),a("h2",{attrs:{id:"table-schema-unique-constraints"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#table-schema-unique-constraints"}},[e._v("#")]),e._v(" Table Schema: Unique constraints")]),e._v(" "),a("h3",{attrs:{id:"overview-10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview-10"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),a("p",[e._v("A "),a("code",[e._v("primaryKey")]),e._v(" uniquely identifies each row in a table. Per SQL standards, it"),a("br"),e._v("\ncannot contain "),a("code",[e._v("null")]),e._v(" values. This pattern implements the SQL UNIQUE constraint"),a("br"),e._v("\nby introducing a "),a("code",[e._v("uniqueKeys")]),e._v(" array, defining one or more row uniqueness"),a("br"),e._v("\nconstraints which do support "),a("code",[e._v("null")]),e._v(" values. An additional "),a("code",[e._v("uniqueNulls")]),e._v(" property"),a("br"),e._v("\ncontrols how "),a("code",[e._v("null")]),e._v(" values are to be treated in unique constraints.")]),e._v(" "),a("h3",{attrs:{id:"specification-12"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specification-12"}},[e._v("#")]),e._v(" Specification")]),e._v(" "),a("h4",{attrs:{id:"uniquekeys-add"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uniquekeys-add"}},[e._v("#")]),e._v(" "),a("code",[e._v("uniqueKeys")]),e._v(" (add)")]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("uniqueKeys")]),e._v(" property, if present, "),a("code",[e._v("MUST")]),e._v(" be an array. Each entry"),a("br"),e._v("\n("),a("code",[e._v("uniqueKey")]),e._v(") in the array "),a("code",[e._v("MUST")]),e._v(" be a string or array (structured as per"),a("br"),e._v(" "),a("code",[e._v("primaryKey")]),e._v(") specifying the resource field or fields required to be unique for"),a("br"),e._v("\neach row in the table.")]),e._v(" "),a("h4",{attrs:{id:"uniquenulls-add"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#uniquenulls-add"}},[e._v("#")]),e._v(" "),a("code",[e._v("uniqueNulls")]),e._v(" (add)")]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("uniqueNulls")]),e._v(" property is a boolean that dictates how "),a("code",[e._v("null")]),e._v(" values should"),a("br"),e._v("\nbe treated by all unique constraints set on a resource.")]),e._v(" "),a("ul",[a("li",[e._v("If "),a("code",[e._v("true")]),e._v(" (the default), "),a("code",[e._v("null")]),e._v(" values are treated as unique (per most SQL"),a("br"),e._v("\ndatabases). By this definition, "),a("code",[e._v("1, null, null")]),e._v(" is UNIQUE.")]),e._v(" "),a("li",[e._v("If "),a("code",[e._v("false")]),e._v(", "),a("code",[e._v("null")]),e._v(" values are treated like any other value (per Microsoft SQL"),a("br"),e._v("\nServer, Python pandas, R data.frame, Google Sheets). By this definition, "),a("code",[e._v("1, null, null")]),e._v(" is NOT UNIQUE.")])]),e._v(" "),a("h4",{attrs:{id:"foreignkeys-edit"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#foreignkeys-edit"}},[e._v("#")]),e._v(" "),a("code",[e._v("foreignKeys")]),e._v(" (edit)")]),e._v(" "),a("p",[e._v("Per SQL standards, "),a("code",[e._v("null")]),e._v(" values are permitted in both the local and reference"),a("br"),e._v("\nkeys of a foreign key. However, reference keys "),a("code",[e._v("MUST")]),e._v(" be unique and are"),a("br"),e._v("\ntherefore equivalent to a "),a("code",[e._v("uniqueKey")]),e._v(" set on the reference resource (the meaning"),a("br"),e._v("\nof which is determined by the reference "),a("code",[e._v("uniqueNulls")]),e._v(").")]),e._v(" "),a("p",[e._v("Furthermore, per SQL standards, the local key "),a("code",[e._v("MAY")]),e._v(" contain keys with field"),a("br"),e._v("\nvalues not present in the reference key if and only if at least one of the"),a("br"),e._v("\nfields is locally "),a("code",[e._v("null")]),e._v(". For example, "),a("code",[e._v("(1, null)")]),e._v(" is permitted locally even if"),a("br"),e._v("\nthe reference is "),a("code",[e._v("[(2, 1), (3, 1)]")]),e._v(". This behavior is the same regardless of the"),a("br"),e._v("\nvalue of "),a("code",[e._v("uniqueNulls")]),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"examples-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#examples-3"}},[e._v("#")]),e._v(" Examples")]),e._v(" "),a("h4",{attrs:{id:"null-in-unique-constraints"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#null-in-unique-constraints"}},[e._v("#")]),e._v(" "),a("code",[e._v("null")]),e._v(" in unique constraints")]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("a")]),e._v(" "),a("th",[e._v("b")]),e._v(" "),a("th",[e._v("c")]),e._v(" "),a("th",[e._v("d")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("1")]),e._v(" "),a("td",[e._v("1")]),e._v(" "),a("td",[e._v("1")]),e._v(" "),a("td",[e._v("1")])]),e._v(" "),a("tr",[a("td",[e._v("2")]),e._v(" "),a("td",[e._v("2")]),e._v(" "),a("td",[a("code",[e._v("null")])]),e._v(" "),a("td",[e._v("2")])]),e._v(" "),a("tr",[a("td",[e._v("3")]),e._v(" "),a("td",[e._v("2")]),e._v(" "),a("td",[a("code",[e._v("null")])]),e._v(" "),a("td",[a("code",[e._v("null")])])])])]),e._v(" "),a("p",[e._v("The above table meets the following primary key and two unique key constraints:")]),e._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"primaryKey"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"uniqueKeys"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"b"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"c"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"c"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"d"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"uniqueNulls"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("p",[e._v("The primary key "),a("code",[e._v("(a)")]),e._v(" only contains unique, non-"),a("code",[e._v("null")]),e._v(" values. In contrast, the"),a("br"),e._v("\nunique keys can contain "),a("code",[e._v("null")]),e._v(" values. Although unique key "),a("code",[e._v("(b, c)")]),e._v(" contains two"),a("br"),e._v("\nidentical keys "),a("code",[e._v("(2, null)")]),e._v(", this is permitted because "),a("code",[e._v("uniqueNulls: true")]),a("br"),e._v("\nspecifies that "),a("code",[e._v("null")]),e._v(" values are unique. This behavior is consistent with the"),a("br"),e._v("\nUNIQUE constraint of PostgreSQL and most other SQL implementations, as"),a("br"),e._v("\nillustrated by this"),a("br"),e._v(" "),a("a",{attrs:{href:"https://dbfiddle.uk/?rdbms=postgres_11&fiddle=34cab8ba7d74b488d215a96f7e83c096",target:"_blank",rel:"noopener noreferrer"}},[e._v("dbfiddle"),a("OutboundLink")],1),e._v("."),a("br"),e._v("\nThe same keys would be considered duplicates if "),a("code",[e._v("uniqueNulls: false")]),e._v(", consistent"),a("br"),e._v("\nwith the UNIQUE constraint of Microsoft SQL Server, as illustrated by this"),a("br"),e._v(" "),a("a",{attrs:{href:"https://dbfiddle.uk/?rdbms=sqlserver_2019l&fiddle=34cab8ba7d74b488d215a96f7e83c096",target:"_blank",rel:"noopener noreferrer"}},[e._v("dbfiddle"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h4",{attrs:{id:"setting-unique-constraints"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setting-unique-constraints"}},[e._v("#")]),e._v(" Setting unique constraints")]),e._v(" "),a("p",[e._v("For a given resource, unique constraints can be set for one field using a"),a("br"),e._v("\nfield’s "),a("code",[e._v("unique")]),e._v(" constraint, for one or multiple fields using a "),a("code",[e._v("uniqueKey")]),e._v(", and"),a("br"),e._v("\nfor one or multiple fields using a "),a("code",[e._v("foreignKey")]),e._v(" referencing the resource. Each"),a("br"),e._v("\nof the following examples set a unique constraint on field "),a("code",[e._v("a")]),e._v(":")]),e._v(" "),a("p",[a("strong",[e._v("Field "),a("code",[e._v("constraints")])])]),e._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"fields"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"constraints"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"unique"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[e._v("true")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("p",[a("strong",[a("code",[e._v("uniqueKeys")])])]),e._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"uniqueKeys"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"a"')]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("p",[a("strong",[a("code",[e._v("foreignKeys")])])]),e._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"foreignKeys"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"fields"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"reference"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"resource"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"fields"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"a"')]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("h3",{attrs:{id:"implementations-10"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#implementations-10"}},[e._v("#")]),e._v(" Implementations")]),e._v(" "),a("p",[e._v("None known.")]),e._v(" "),a("h2",{attrs:{id:"describing-files-inside-a-compressed-file-such-as-zip"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#describing-files-inside-a-compressed-file-such-as-zip"}},[e._v("#")]),e._v(" Describing files inside a compressed file such as Zip")]),e._v(" "),a("h3",{attrs:{id:"overview-11"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview-11"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),a("p",[e._v("Some datasets need to contain a Zip file (or tar, other formats) containing a"),a("br"),e._v("\nset of files.")]),e._v(" "),a("p",[e._v("This might happen for practical reasons (datasets containing thousands of files)"),a("br"),e._v("\nor for technical limitations (for example, currently Zenodo doesn’t support subdirectories and"),a("br"),e._v("\ndatasets might need subdirectory structures to be useful).")]),e._v(" "),a("h3",{attrs:{id:"implementations-11"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#implementations-11"}},[e._v("#")]),e._v(" Implementations")]),e._v(" "),a("p",[e._v("There are no known implementations at present.")]),e._v(" "),a("h3",{attrs:{id:"specification-13"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specification-13"}},[e._v("#")]),e._v(" Specification")]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("resources")]),e._v(" in a "),a("code",[e._v("data-package")]),e._v(" can contain “recursive resources”: identifying"),a("br"),e._v("\na new resource.")]),e._v(" "),a("h3",{attrs:{id:"example"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#example"}},[e._v("#")]),e._v(" Example")]),e._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"profile"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"data-package"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"resources"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"path"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"https://zenodo.org/record/3247384/files/Sea-Bird_Processed_Data.zip"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"format"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"zip"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"mediatype"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"application/zip"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"bytes"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"294294242424"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"hash"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"a27063c614c183b502e5c03bd9c8931b"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"resources"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"path"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"file_name.csv"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"format"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"csv"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"mediatype"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"text/csv"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"bytes"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("242421")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"hash"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"0300048878bb9b5804a1f62869d296bc"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"profile"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"tabular-data-resource"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"schema"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"tableschema.json"')]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"path"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"directory/file_name2.csv"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"format"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"csv"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"mediatype"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"text/csv"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"bytes"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[e._v("2424213")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"hash"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"ff9435e0ee350efbe8a4a8779a47caaa"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"profile"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"tabular-data-resource"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n          "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"schema"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"tableschema.json"')]),e._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("p",[e._v("For a "),a("code",[e._v(".tar.gz")]),e._v(" it would be the same changing the "),a("code",[e._v('"format"')]),e._v(" and the"),a("br"),e._v(" "),a("code",[e._v('"mediatype"')]),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"types-of-files"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#types-of-files"}},[e._v("#")]),e._v(" Types of files")]),e._v(" "),a("p",[e._v("Support for "),a("code",[e._v("Zip")]),e._v(" and "),a("code",[e._v("tar.gz")]),e._v(" might be enough: hopefully everything can be"),a("br"),e._v("\nre-packaged using these formats.")]),e._v(" "),a("p",[e._v("To keep the implementation and testing testing: only one recursive level is"),a("br"),e._v("\npossible. A "),a("code",[e._v("resource")]),e._v(" can list "),a("code",[e._v("resources")]),e._v(" inside (like in the example). But"),a("br"),e._v("\nthe inner resources cannot contain resources again.")]),e._v(" "),a("h2",{attrs:{id:"missing-values-per-field"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#missing-values-per-field"}},[e._v("#")]),e._v(" Missing values per field")]),e._v(" "),a("h3",{attrs:{id:"overview-12"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview-12"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),a("p",[e._v("Characters representing missing values in a table can be defined for all fields in a "),a("a",{attrs:{href:"http://frictionlessdata.io/specs/tabular-data-resource/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Tabular Data Resource"),a("OutboundLink")],1),e._v(" using the "),a("a",{attrs:{href:"http://frictionlessdata.io/specs/table-schema/#missing-values",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("missingValues")]),a("OutboundLink")],1),e._v(" property in a Table Schema. Values that match the "),a("code",[e._v("missingValues")]),e._v(" are treated as "),a("code",[e._v("null")]),e._v(".")]),e._v(" "),a("p",[e._v("The Missing values per field pattern allows different missing values to be specified for each field in a Table Schema. If not specified, each field inherits from values assigned to "),a("code",[e._v("missingValues")]),e._v(" at the Tabular Data Resource level.")]),e._v(" "),a("p",[e._v("For example, this data…")]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("item")]),e._v(" "),a("th",[e._v("description")]),e._v(" "),a("th",[e._v("price")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("1")]),e._v(" "),a("td",[e._v("Apple")]),e._v(" "),a("td",[e._v("0.99")])]),e._v(" "),a("tr",[a("td",[e._v("tba")]),e._v(" "),a("td",[e._v("Banana")]),e._v(" "),a("td",[e._v("-1")])]),e._v(" "),a("tr",[a("td",[e._v("3")]),e._v(" "),a("td",[e._v("n/a")]),e._v(" "),a("td",[e._v("1.20")])])])]),e._v(" "),a("p",[e._v("…using this Table Schema…")]),e._v(" "),a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"schema"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"fields"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"item"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"title"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"An inventory item number"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"integer"')]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"description"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"title"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"item description"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"string"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"missingValues"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"n/a"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"name"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"price"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"title"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"cost price"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"type"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"number"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"missingValues"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"-1"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"missingValues"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"tba"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('""')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])]),a("p",[e._v("…would be interpreted as…")]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("item")]),e._v(" "),a("th",[e._v("description")]),e._v(" "),a("th",[e._v("price")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("1")]),e._v(" "),a("td",[e._v("Apple")]),e._v(" "),a("td",[e._v("0.99")])]),e._v(" "),a("tr",[a("td",[a("code",[e._v("null")])]),e._v(" "),a("td",[e._v("Banana")]),e._v(" "),a("td",[a("code",[e._v("null")])])]),e._v(" "),a("tr",[a("td",[e._v("3")]),e._v(" "),a("td",[a("code",[e._v("null")])]),e._v(" "),a("td",[e._v("1.20")])])])]),e._v(" "),a("h3",{attrs:{id:"specification-14"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specification-14"}},[e._v("#")]),e._v(" Specification")]),e._v(" "),a("p",[e._v("A field MAY have a "),a("code",[e._v("missingValues")]),e._v(" property that MUST be an "),a("code",[e._v("array")]),e._v(" where each entry is a "),a("code",[e._v("string")]),e._v(". If not specified, each field inherits from the values assigned to "),a("a",{attrs:{href:"http://frictionlessdata.io/specs/table-schema/#missing-values",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("missingValues")]),a("OutboundLink")],1),e._v(" at the Tabular Data Resource level.")]),e._v(" "),a("h3",{attrs:{id:"implementations-12"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#implementations-12"}},[e._v("#")]),e._v(" Implementations")]),e._v(" "),a("p",[e._v("None known.")]),e._v(" "),a("h2",{attrs:{id:"table-schema-enum-labels-and-ordering"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#table-schema-enum-labels-and-ordering"}},[e._v("#")]),e._v(" Table Schema: Enum labels and ordering")]),e._v(" "),a("h3",{attrs:{id:"overview-13"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview-13"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),a("p",[e._v("Many software packages for manipulating and analyzing tabular data have special"),a("br"),e._v("\nfeatures for working with categorical variables. These include:")]),e._v(" "),a("ul",[a("li",[e._v("Value labels or formats ("),a("a",{attrs:{href:"https://www.stata.com/manuals13/dlabel.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("Stata"),a("OutboundLink")],1),e._v(","),a("br"),e._v(" "),a("a",{attrs:{href:"https://documentation.sas.com/doc/en/pgmsascdc/9.4_3.5/proc/p1upn25lbfo6mkn1wncu4dyh9q91.htm",target:"_blank",rel:"noopener noreferrer"}},[e._v("SAS"),a("OutboundLink")],1),a("br"),e._v("\nand "),a("a",{attrs:{href:"https://www.ibm.com/docs/en/spss-statistics/beta?topic=data-adding-value-labels",target:"_blank",rel:"noopener noreferrer"}},[e._v("SPSS"),a("OutboundLink")],1),e._v(")")]),e._v(" "),a("li",[a("a",{attrs:{href:"https://pandas.pydata.org/docs/user_guide/categorical.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Categoricals (Pandas)"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://www.stat.berkeley.edu/~s133/factors.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Factors ®"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://dataframes.juliadata.org/stable/man/categorical/",target:"_blank",rel:"noopener noreferrer"}},[e._v("CategoricalVectors (Julia)"),a("OutboundLink")],1)])]),e._v(" "),a("p",[e._v("These features can result in more efficient storage and faster runtime"),a("br"),e._v("\nperformance, but more importantly, facilitate analysis by indicating that a"),a("br"),e._v("\nvariable should be treated as categorical and by permitting the logical order"),a("br"),e._v("\nof the categories to differ from their lexical order. And in the case of value"),a("br"),e._v("\nlabels, they permit the analyst to work with variables in numeric form (e.g.,"),a("br"),e._v("\nin expressions, when fitting models) while generating output (e.g., tables,"),a("br"),e._v("\nplots) that is labeled with informative strings.")]),e._v(" "),a("p",[e._v("While these features are of limited use in some disciplines, others rely"),a("br"),e._v("\nheavily on them (e.g., social sciences, epidemiology, clinical research,"),a("br"),e._v("\netc.). Thus, before these disciplines can begin to use Frictionless in a"),a("br"),e._v("\nmeaningful way, both the standards and the software tools need to support"),a("br"),e._v("\nthese features. This pattern addresses necessary extensions to the"),a("br"),e._v(" "),a("a",{attrs:{href:"https://specs.frictionlessdata.io//table-schema/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Table Schema"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"principles"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#principles"}},[e._v("#")]),e._v(" Principles")]),e._v(" "),a("p",[e._v("Before describing the proposed extensions, here are the principles on which"),a("br"),e._v("\nthey are based:")]),e._v(" "),a("ol",[a("li",[e._v("Extensions should be software agnostic (i.e., no additions to the official"),a("br"),e._v("\nschema targeted toward a specific piece of software). While the extensions"),a("br"),e._v("\nare intended to support the use of features not available in all software,"),a("br"),e._v("\nthe resulting data package should continue to work as well as possible with"),a("br"),e._v("\nsoftware that does not have those features.")]),e._v(" "),a("li",[e._v("Related to (1), extensions should only include metadata that describe the"),a("br"),e._v("\ndata themselves—not instructions for what a specific software package should"),a("br"),e._v("\ndo with the data. Users who want to include the latter may do so within"),a("br"),e._v("\na sub-namespace such as "),a("code",[e._v("custom")]),e._v(" (e.g., see Issues "),a("a",{attrs:{href:"https://github.com/frictionlessdata/specs/issues/103",target:"_blank",rel:"noopener noreferrer"}},[e._v("#103"),a("OutboundLink")],1),a("br"),e._v("\nand "),a("a",{attrs:{href:"https://github.com/frictionlessdata/specs/issues/663",target:"_blank",rel:"noopener noreferrer"}},[e._v("#663"),a("OutboundLink")],1),e._v(").")]),e._v(" "),a("li",[e._v("Extensions must be backward compatible (i.e., not break existing tools,"),a("br"),e._v("\nworkflows, etc. for working with Frictionless packages).")])]),e._v(" "),a("p",[e._v("It is worth emphasizing that the scope of the proposed extensions is strictly"),a("br"),e._v("\nlimited to the information necessary to make use of the features for working"),a("br"),e._v("\nwith categorical data provided by the software packages listed above. Previous"),a("br"),e._v("\ndiscussions of this issue have occasionally included references to additional"),a("br"),e._v("\nvariable-level metadata (e.g., multiple sets of category labels such as both"),a("br"),e._v("\n“short labels” and longer “descriptions”, or links to common data elements,"),a("br"),e._v("\ncontrolled vocabularies or rdfTypes). While these additional metadata are"),a("br"),e._v("\nundoubtedly useful, we speculate that the large majority of users who would"),a("br"),e._v("\nbenefit from the extensions propopsed here would not have and/or utilize such"),a("br"),e._v("\ninformation, and therefore argue that these should be considered under a"),a("br"),e._v("\nseparate proposal.")]),e._v(" "),a("h3",{attrs:{id:"implementations-13"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#implementations-13"}},[e._v("#")]),e._v(" Implementations")]),e._v(" "),a("p",[e._v("Our proposal to add a field-specific "),a("code",[e._v("enumOrdered")]),e._v(" property has been raised"),a("br"),e._v(" "),a("a",{attrs:{href:"https://github.com/frictionlessdata/specs/issues/739",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),a("OutboundLink")],1),e._v(" and"),a("br"),e._v(" "),a("a",{attrs:{href:"https://github.com/frictionlessdata/specs/issues/156",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("Discussions regarding supporting software providing features for working with"),a("br"),e._v("\ncategorical variables appear in the following GitHub issues:")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/frictionlessdata/specs/issues/156",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/frictionlessdata/specs/issues/156"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/frictionlessdata/specs/issues/739",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://github.com/frictionlessdata/specs/issues/739"),a("OutboundLink")],1)])]),e._v(" "),a("p",[e._v("and in the Frictionless Data forum:")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://discuss.okfn.org/t/can-you-add-code-descriptions-to-a-data-package/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://discuss.okfn.org/t/can-you-add-code-descriptions-to-a-data-package/"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://discuss.okfn.org/t/something-like-rs-ordered-factors-or-enums-as-column-type/",target:"_blank",rel:"noopener noreferrer"}},[e._v("https://discuss.okfn.org/t/something-like-rs-ordered-factors-or-enums-as-column-type/"),a("OutboundLink")],1)])]),e._v(" "),a("p",[e._v("Finally, while we are unaware of any existing implementations intended for"),a("br"),e._v("\ngeneral use, it is likely that many users are already exploiting the fact that"),a("br"),e._v("\narbitrary fields may be added to the"),a("br"),e._v(" "),a("a",{attrs:{href:"https://specs.frictionlessdata.io//table-schema/",target:"_blank",rel:"noopener noreferrer"}},[e._v("table schema"),a("OutboundLink")],1),a("br"),e._v("\nto support internal implementations.")]),e._v(" "),a("h3",{attrs:{id:"proposed-extensions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#proposed-extensions"}},[e._v("#")]),e._v(" Proposed extensions")]),e._v(" "),a("p",[e._v("We propose two extensions to "),a("a",{attrs:{href:"https://specs.frictionlessdata.io/table-schema/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Table Schema"),a("OutboundLink")],1),e._v(":")]),e._v(" "),a("ol",[a("li",[e._v("Add an optional field-specific "),a("code",[e._v("enumOrdered")]),e._v(" property, which can be used"),a("br"),e._v("\nwhen contructing a categorical (or factor) to indicate that the variable is"),a("br"),e._v("\nordinal.")]),e._v(" "),a("li",[e._v("Add an optional field-specific "),a("code",[e._v("enumLabels")]),e._v(" property for use when data are"),a("br"),e._v("\nstored using integer or other codes rather than using the category labels."),a("br"),e._v("\nThis contains an object mapping the codes appearing in the data (keys) to"),a("br"),e._v("\nwhat they mean (values), and can be used by software to construct"),a("br"),e._v("\ncorresponding value labels or categoricals (when supported) or to translate"),a("br"),e._v("\nthe values when reading the data.")])]),e._v(" "),a("p",[e._v("These extensions are fully backward compatible, since they are optional and"),a("br"),e._v("\nnot providing them is valid.")]),e._v(" "),a("p",[e._v("Here is an example of a categorical variable using extension (1):")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('{\n  "fields": [\n    {\n      "name": "physical_health",\n      "type": "string",\n      "constraints": {\n        "enum": [\n          "Poor",\n          "Fair",\n          "Good",\n          "Very good",\n          "Excellent",\n        ]\n      }\n      "enumOrdered": true\n    }\n  ],\n  "missingValues": ["Don\'t know","Refused","Not applicable"]\n}\n')])])]),a("p",[e._v("This is our preferred strategy, as it provides all of the information"),a("br"),e._v("\nnecessary to support the categorical functionality of the software packages"),a("br"),e._v("\nlisted above, while still yielding a useable result for software without such"),a("br"),e._v("\ncapability. As described below, value labels or categoricals can be created"),a("br"),e._v("\nautomatically based on the ordering of the values in the "),a("code",[e._v("enum")]),e._v(" array, and the"),a("br"),e._v(" "),a("code",[e._v("missingValues")]),e._v(" can be incorporated into the value labels or categoricals if"),a("br"),e._v("\ndesired. In those cases where it is desired to have more control over how the"),a("br"),e._v("\nvalue labels are constructed, this information can be stored in a separate"),a("br"),e._v("\nfile in JSON format or as part of a custom extension to the table schema."),a("br"),e._v("\nSince such instructions do not describe the data themselves (but only how a"),a("br"),e._v("\nspecific software package should handle them), and since they are often"),a("br"),e._v("\nsoftware- and/or user-specific, we argue that they should not be included in"),a("br"),e._v("\nthe official table schema.")]),e._v(" "),a("p",[e._v("Alternatively, those who wish to store their data in encoded form (e.g., this"),a("br"),e._v("\nis the default for data exports from "),a("a",{attrs:{href:"https://projectredcap.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("REDCap"),a("OutboundLink")],1),e._v(", a"),a("br"),e._v("\ncommonly-used platform for collecting data for clinical studies) may use"),a("br"),e._v("\nextension (2) to do so:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('{\n  "fields": [\n    {\n      "name": "physical_health",\n      "type": "integer",\n      "constraints": {\n        "enum": [1,2,3,4,5]\n      }\n      "enumOrdered": true,\n      "enumLabels": {\n        "1": "Poor",\n        "2": "Fair",\n        "3": "Good",\n        "4": "Very good",\n        "5": "Excellent"\n      }\n    }\n  ],\n  "missingValues": ["Don\'t know","Refused","Not applicable"]\n}\n')])])]),a("p",[e._v("Note that although the field type is "),a("code",[e._v("integer")]),e._v(", the keys in the "),a("code",[e._v("enumLabels")]),a("br"),e._v("\nobject must be wrapped in double quotes because this is required by the JSON"),a("br"),e._v("\nfile format.")]),e._v(" "),a("p",[e._v("A second variant of the example above is the following:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[e._v('{\n  "fields": [\n    {\n      "name": "physical_health",\n      "type": "integer",\n      "constraints": {\n        "enum": [1,2,3,4,5]\n      }\n      "enumOrdered": true,\n      "enumLabels": {\n        "1": "Poor",\n        "2": "Fair",\n        "3": "Good",\n        "4": "Very good",\n        "5": "Excellent",\n        ".a": "Don\'t know",\n        ".b": "Refused",\n        ".c": "Not applicable"\n      }\n    }\n  ],\n  "missingValues": [".a",".b",".c"]\n}\n')])])]),a("p",[e._v("This represents encoded data exported from software with support for  value"),a("br"),e._v("\nlabels. The values "),a("code",[e._v(".a")]),e._v(", "),a("code",[e._v(".b")]),e._v(", etc. are known as "),a("em",[e._v("extended missing values")]),a("br"),e._v("\n(Stata and SAS only) and provide 26 unique missing values for numeric fields"),a("br"),e._v('\n(both integer and float) in addition to the system missing value ("'),a("code",[e._v(".")]),e._v('"); in'),a("br"),e._v("\nSPSS these would be replaced with specially designated integers, typically"),a("br"),e._v("\nnegative (e.g., -97, -98 and -99).")]),e._v(" "),a("h3",{attrs:{id:"specification-15"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specification-15"}},[e._v("#")]),e._v(" Specification")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("A field with an "),a("code",[e._v("enum")]),e._v(" constraint or an "),a("code",[e._v("enumLabels")]),e._v(" property MAY have an"),a("br"),e._v(" "),a("code",[e._v("enumOrdered")]),e._v(" property that MUST be a boolean. A value of "),a("code",[e._v("true")]),e._v(" indicates"),a("br"),e._v("\nthat the field should be treated as having an ordinal scale of measurement,"),a("br"),e._v("\nwith the ordering given by the order of the field’s "),a("code",[e._v("enum")]),e._v(" array or by the"),a("br"),e._v("\nlexical order of the "),a("code",[e._v("enumLabels")]),e._v(" object’s keys, with the latter taking"),a("br"),e._v("\nprecedence. Fields without an "),a("code",[e._v("enum")]),e._v(" constraint or an "),a("code",[e._v("enumLabels")]),e._v(" property"),a("br"),e._v("\nor for which the "),a("code",[e._v("enumLabels")]),e._v(" keys do not include all values observed"),a("br"),e._v("\nin the data (excluding any values specified in the "),a("code",[e._v("missingValues")]),a("br"),e._v("\nproperty) MUST NOT have an "),a("code",[e._v("enumOrdered")]),e._v(" property since in that case the"),a("br"),e._v("\ncorrect ordering of the data is ambiguous. The absence of an "),a("code",[e._v("enumOrdered")]),a("br"),e._v("\nproperty MUST NOT be taken to imply "),a("code",[e._v("enumOrdered: false")]),e._v(".")])]),e._v(" "),a("li",[a("p",[e._v("A field MAY have an "),a("code",[e._v("enumLabels")]),e._v(" property that MUST be an object. This"),a("br"),e._v("\nproperty SHOULD be used to indicate how the values in the data (represented"),a("br"),e._v("\nby the object’s keys) are to be labeled or translated (represented by the"),a("br"),e._v("\ncorresponding value). As required by the JSON format, the object’s keys"),a("br"),e._v("\nmust be listed as strings (i.e., wrapped in double quotes). The keys MAY"),a("br"),e._v("\ninclude values that do not appear in the data and MAY omit some values that"),a("br"),e._v("\ndo appear in the data. For clarity and to avoid unintentional loss of"),a("br"),e._v("\ninformation, the object’s values SHOULD be unique.")])])]),e._v(" "),a("h3",{attrs:{id:"suggested-implementations"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#suggested-implementations"}},[e._v("#")]),e._v(" Suggested implementations")]),e._v(" "),a("p",[e._v("Note: The use cases below address only "),a("em",[e._v("reading data")]),e._v(" from a Frictionless data"),a("br"),e._v("\npackage; it is assumed that implementations will also provide the ability to"),a("br"),e._v("\nwrite Frictionless data packages using the schema extensions proposed above."),a("br"),e._v("\nWe suggest two types of implementations:")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("Additions to the official Python Frictionless Framework to generate"),a("br"),e._v("\nsoftware-specific scripts that may be executed by a specific software"),a("br"),e._v("\npackage to read data from a Frictionless data package and create the"),a("br"),e._v("\nappropriate value labels or categoricals, as described below. These"),a("br"),e._v("\nscripts can then be included along with the data in the package itself.")])]),e._v(" "),a("li",[a("p",[e._v("Software-specific extension packages that may be installed to permit users"),a("br"),e._v("\nof that software to read data from a Frictionless data package directly,"),a("br"),e._v("\nautomatically creating the appropriate value labels or categoricals as"),a("br"),e._v("\ndescribed below.")])])]),e._v(" "),a("p",[e._v("The advantage of (1) is that it doesn’t require users to install another"),a("br"),e._v("\nsoftware package, which may in some cases be difficult or impossible. The"),a("br"),e._v("\nadvantage of (2) is that it provides native support for working with"),a("br"),e._v("\nFrictionless data packages, and may be both easier and faster once the package"),a("br"),e._v("\nis installed. We are in the process of implementing both approaches for Stata;"),a("br"),e._v("\nimplementations for the other software listed above are straightforward.")]),e._v(" "),a("h4",{attrs:{id:"software-that-supports-value-labels-stata-sas-or-spss"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#software-that-supports-value-labels-stata-sas-or-spss"}},[e._v("#")]),e._v(" Software that supports value labels (Stata, SAS or SPSS)")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("In cases where a field has an "),a("code",[e._v("enum")]),e._v(" constraint but no "),a("code",[e._v("enumLabels")]),a("br"),e._v("\nproperty, automatically generate a value label mapping the integers 1, 2,"),a("br"),e._v("\n3, … to the "),a("code",[e._v("enum")]),e._v(" values in order, use this to encode the field (thereby"),a("br"),e._v("\nchanging its type from "),a("code",[e._v("string")]),e._v(" to "),a("code",[e._v("integer")]),e._v("), and attach the value label"),a("br"),e._v("\nto the field. Provide option to skip automatically dropping values"),a("br"),e._v("\nspecified in the "),a("code",[e._v("missingValues")]),e._v(" property and instead add them in order to"),a("br"),e._v("\nthe end of the value label, encoded using extended missing values if"),a("br"),e._v("\nsupported.")])]),e._v(" "),a("li",[a("p",[e._v("In cases where the data are stored in encoded form (e.g., as integers) and"),a("br"),e._v("\na corresponding "),a("code",[e._v("enumLabels")]),e._v(" property is present, and assuming that the"),a("br"),e._v("\nkeys in the "),a("code",[e._v("enumLabels")]),e._v(" object are limited to integers and extended"),a("br"),e._v("\nmissing values (if supported), use the "),a("code",[e._v("enumLabels")]),e._v(" object to generate a"),a("br"),e._v("\nvalue label and attach it to the field. As with (1), provide option to skip"),a("br"),e._v("\nautomatically dropping values specified in the "),a("code",[e._v("missingValues")]),e._v(" property and"),a("br"),e._v("\ninstead add them in order to the end of the value label, encoded using"),a("br"),e._v("\nextended missing values if supported.")])]),e._v(" "),a("li",[a("p",[e._v("Although none of Stata, SAS or SPSS currently permits designating a specific"),a("br"),e._v("\nvariable as ordered, Stata permits attaching arbitrary metadata to"),a("br"),e._v("\nindividual variables. Thus, in cases where the "),a("code",[e._v("enumOrdered")]),e._v(" property is"),a("br"),e._v("\npresent, this information can be stored in Stata to inform the analyst and"),a("br"),e._v("\nto prevent loss of information when generating Frictionless data packages"),a("br"),e._v("\nfrom within Stata.")])])]),e._v(" "),a("h4",{attrs:{id:"software-that-supports-categoricals-or-factors-pandas-r-julia"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#software-that-supports-categoricals-or-factors-pandas-r-julia"}},[e._v("#")]),e._v(" Software that supports categoricals or factors (Pandas, R, Julia)")]),e._v(" "),a("ol",[a("li",[a("p",[e._v("In cases where a field has an "),a("code",[e._v("enum")]),e._v(" constraint but no "),a("code",[e._v("enumLabels")]),a("br"),e._v("\nproperty, automatically define a categorical or factor using the "),a("code",[e._v("enum")]),a("br"),e._v("\nvalues in order, and convert the variable to categorical or factor type"),a("br"),e._v("\nusing this definition. Provide option to skip automatically dropping values"),a("br"),e._v("\nspecified in the "),a("code",[e._v("missingValues")]),e._v(" property and instead add them in order to"),a("br"),e._v("\nthe end of the "),a("code",[e._v("enum")]),e._v(" values when defining the categorical or factor.")])]),e._v(" "),a("li",[a("p",[e._v("In cases where the data are stored in encoded form (e.g., as integers) and"),a("br"),e._v("\na corresponding "),a("code",[e._v("enumLabels")]),e._v(" property is present, translate the data using"),a("br"),e._v("\nthe "),a("code",[e._v("enumLabels")]),e._v(" object, define a categorical or factor using the values of"),a("br"),e._v("\nthe "),a("code",[e._v("enumLabels")]),e._v(" object in lexical order of the keys, and convert the"),a("br"),e._v("\nvariable to categorical or factor type using this definition. Provide"),a("br"),e._v("\noption to skip automatically dropping values specified in the"),a("br"),e._v(" "),a("code",[e._v("missingValues")]),e._v(" property and instead add them to the end of the"),a("br"),e._v(" "),a("code",[e._v("enumLabels")]),e._v(" values when defining the categorical or factor.")])]),e._v(" "),a("li",[a("p",[e._v("In cases where a field has an "),a("code",[e._v("enumOrdered")]),e._v(" property, use that when"),a("br"),e._v("\ndefining the categorical or factor.")])])]),e._v(" "),a("h4",{attrs:{id:"all-software"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#all-software"}},[e._v("#")]),e._v(" All software")]),e._v(" "),a("p",[e._v("Although the extensions proposed here are intended primarily to support the"),a("br"),e._v("\nuse of value labels and categoricals in software that supports them, they also"),a("br"),e._v("\nprovide additional functionality when reading data into any software that can"),a("br"),e._v("\nhandle tabular data. Specifically, the "),a("code",[e._v("enumLabels")]),e._v(" property may be used to"),a("br"),e._v("\nsupport the use of enums even in cases where value labels or categoricals are"),a("br"),e._v("\nnot being used. For example, it is standard practice in software for analyzing"),a("br"),e._v("\ngenetic data to code sex as 0, 1 and 2 (corresponding to “Unknown”, “Male” and"),a("br"),e._v("\n“Female”) and affection status as 0, 1 and 2 (corresponding to “Unknown”,"),a("br"),e._v("\n“Unaffected” and “Affected”). In such cases, the "),a("code",[e._v("enumLabels")]),e._v(" property may be"),a("br"),e._v("\nused to confirm that the data follow the standard convention or to indicate"),a("br"),e._v("\nthat they deviate from it; it may also be used to translate those codes into"),a("br"),e._v("\nhuman-readable values, if desired.")]),e._v(" "),a("h3",{attrs:{id:"notes"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#notes"}},[e._v("#")]),e._v(" Notes")]),e._v(" "),a("p",[e._v("While this pattern is designed as an extension to "),a("a",{attrs:{href:"https://specs.frictionlessdata.io/table-schema/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Table Schema"),a("OutboundLink")],1),e._v(" fields, it could also be used to document "),a("code",[e._v("enum")]),e._v(" values of properties in "),a("a",{attrs:{href:"https://specs.frictionlessdata.io/profiles/",target:"_blank",rel:"noopener noreferrer"}},[e._v("profiles"),a("OutboundLink")],1),e._v(", such as contributor roles.")]),e._v(" "),a("p",[e._v("This pattern originally included a proposal to add an optional field-specific"),a("br"),e._v(" "),a("code",[e._v("missingValues")]),e._v(" property similar to that described in the pattern"),a("br"),e._v("\n“"),a("a",{attrs:{href:"https://specs.frictionlessdata.io/patterns/#missing-values-per-field",target:"_blank",rel:"noopener noreferrer"}},[e._v("missing values per field"),a("OutboundLink")],1),e._v("”"),a("br"),e._v("\nappearing in this document above. The objective was to provide a mechnanism to"),a("br"),e._v("\ndistinguish between so-called "),a("em",[e._v("system missing values")]),e._v(" (i.e., values that"),a("br"),e._v("\nindicate only that the corresponding data are missing) and other values that"),a("br"),e._v("\nconvey meaning but are typically excluded when fitting statistical models. The"),a("br"),e._v("\nlatter may be represented by "),a("em",[e._v("extended missing values")]),e._v(" ("),a("code",[e._v(".a")]),e._v(", "),a("code",[e._v(".b")]),e._v(", "),a("code",[e._v(".c")]),e._v(","),a("br"),e._v("\netc.) in Stata and SAS, or in SPSS by negative integers that are then"),a("br"),e._v("\ndesignated as missing by using the "),a("code",[e._v("MISSING VALUES")]),e._v(" command. For example,"),a("br"),e._v("\nvalues such as “NA”, “Not applicable”, “.”, etc. could be specified in the"),a("br"),e._v("\nresource level "),a("code",[e._v("missingValues")]),e._v(" property, while values such as “Don’t know” and"),a("br"),e._v("\n“Refused”—often used when generating tabular summaries and occasionally used"),a("br"),e._v("\nwhen fitting certain statistical models—could be specified in the"),a("br"),e._v("\ncorresponding field level "),a("code",[e._v("missingValues")]),e._v(" property. The former would still be"),a("br"),e._v("\nconverted to "),a("code",[e._v("null")]),e._v(" before type-specific string conversion (just as they are"),a("br"),e._v("\nnow), while the latter could be used by capable software when creating value"),a("br"),e._v("\nlabels or categoricals.")]),e._v(" "),a("p",[e._v("While this proposal was consistent with the principles outlined at the"),a("br"),e._v("\nbeginning (in particular, existing software would still yield a usable result"),a("br"),e._v("\nwhen reading the data), we realized that it would conflict with what appears"),a("br"),e._v("\nto be an emerging consensus regarding field-specific "),a("code",[e._v("missingValues")]),e._v("; i.e.,"),a("br"),e._v("\nthat they should "),a("em",[e._v("replace")]),e._v(" the less specific resource level "),a("code",[e._v("missingValues")]),a("br"),e._v("\nfor the corresponding field rather than be combined with them (see the discussion"),a("br"),e._v(" "),a("a",{attrs:{href:"https://github.com/frictionlessdata/specs/issues/551",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),a("OutboundLink")],1),e._v(" as well as the"),a("br"),e._v("\n“"),a("a",{attrs:{href:"https://specs.frictionlessdata.io/patterns/#missing-values-per-field",target:"_blank",rel:"noopener noreferrer"}},[e._v("missing values per field"),a("OutboundLink")],1),e._v("”"),a("br"),e._v("\npattern above). While there is good reason for replacing rather than combining"),a("br"),e._v("\nhere (e.g., it is more explicit), it would unfortunately conflict with the"),a("br"),e._v("\nidea of using the field-specific "),a("code",[e._v("missingValues")]),e._v(" in conjunction with the"),a("br"),e._v("\nresource level "),a("code",[e._v("missingValues")]),e._v(" as just described; namely, if the"),a("br"),e._v("\nfield-specific property replaced the resource level property then the system"),a("br"),e._v("\nmissing values would no longer be converted to "),a("code",[e._v("null")]),e._v(", as desired.")]),e._v(" "),a("p",[e._v("For this reason, we have dropped the proposal to add a field-specific"),a("br"),e._v(" "),a("code",[e._v("missingValues")]),e._v(" property from this pattern, and assert that implementation of"),a("br"),e._v("\nthis pattern by software should assume that if a field-specific "),a("code",[e._v("missingValues")]),a("br"),e._v("\nproperty is added to the"),a("br"),e._v(" "),a("a",{attrs:{href:"https://specs.frictionlessdata.io//table-schema/",target:"_blank",rel:"noopener noreferrer"}},[e._v("table schema"),a("OutboundLink")],1),a("br"),e._v("\nit should, if present, replace the resource level "),a("code",[e._v("missingValues")]),e._v(" property for"),a("br"),e._v("\nthe corresponding field. We do not believe that this change represents a"),a("br"),e._v("\nsubstantial limitation when creating value labels or categoricals, since"),a("br"),e._v("\nsystem missing values can typically be easily distinguished from other missing"),a("br"),e._v("\nvalues when exported in CSV format (e.g., “.” in Stata or SAS, “NA” in R, or"),a("br"),e._v("\n“” in Pandas).")]),e._v(" "),a("h2",{attrs:{id:"table-schema-relationship-between-fields"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#table-schema-relationship-between-fields"}},[e._v("#")]),e._v(" Table Schema: Relationship between Fields")]),e._v(" "),a("h3",{attrs:{id:"overview-14"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#overview-14"}},[e._v("#")]),e._v(" Overview")]),e._v(" "),a("p",[e._v("The structure of tabular datasets is simple: a set of Fields grouped in a table.")]),e._v(" "),a("p",[e._v("However, the data present is often complex and reflects an interdependence between Fields (see explanations in the Internet-Draft "),a("a",{attrs:{href:"https://www.ietf.org/archive/id/draft-thomy-ntv-tab-00.html#section-2",target:"_blank",rel:"noopener noreferrer"}},[e._v("NTV tabular format (NTV-TAB)"),a("OutboundLink")],1),e._v(").")]),e._v(" "),a("p",[e._v("Let’s take the example of the following dataset:")]),e._v(" "),a("table",[a("thead",[a("tr",[a("th",[e._v("country")]),e._v(" "),a("th",[e._v("region")]),e._v(" "),a("th",[e._v("code")]),e._v(" "),a("th",[e._v("population")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("France")]),e._v(" "),a("td",[e._v("European Union")]),e._v(" "),a("td",[e._v("FR")]),e._v(" "),a("td",[e._v("449")])]),e._v(" "),a("tr",[a("td",[e._v("Spain")]),e._v(" "),a("td",[e._v("European Union")]),e._v(" "),a("td",[e._v("ES")]),e._v(" "),a("td",[e._v("48")])]),e._v(" "),a("tr",[a("td",[e._v("Estonia")]),e._v(" "),a("td",[e._v("European Union")]),e._v(" "),a("td",[e._v("ES")]),e._v(" "),a("td",[e._v("449")])]),e._v(" "),a("tr",[a("td",[e._v("Nigeria")]),e._v(" "),a("td",[e._v("Africa")]),e._v(" "),a("td",[e._v("NI")]),e._v(" "),a("td",[e._v("1460")])])])]),e._v(" "),a("p",[e._v("The data schema for this dataset indicates in the Field Descriptor “description”:")]),e._v(" "),a("ul",[a("li",[e._v("for the “code” Field : “country code alpha-2”")]),e._v(" "),a("li",[e._v("for the “population” Field: “region population in 2022 (millions)”")])]),e._v(" "),a("p",[e._v("If we now look at the data we see that this dataset is not consistent because it contains two structural errors:")]),e._v(" "),a("ul",[a("li",[e._v("The value of the “code” Field must be unique for each country, we cannot therefore have “ES” for “Spain” and “Estonia”,")]),e._v(" "),a("li",[e._v("The value of the “population” Field of “European Union” cannot have two different values (449 and 48)")])]),e._v(" "),a("p",[e._v("These structural errors make the data unusable and yet they are not detected in the validation of the dataset (in the current version of Table Schema, there are no Descriptors to express this dependency between two fields).")]),e._v(" "),a("p",[e._v("The purpose of this specification is therefore on the one hand to express these structural constraints in the data schema and on the other hand to define the controls associated with the validation of a dataset.")]),e._v(" "),a("h3",{attrs:{id:"context"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#context"}},[e._v("#")]),e._v(" Context")]),e._v(" "),a("p",[e._v("This subject was studied and treated for databases and led to the definition of a methodology for specifying relationships and to the implementation of consistent relational databases.")]),e._v(" "),a("p",[e._v("The methodology is mainly based on the "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Entity%E2%80%93relationship_model",target:"_blank",rel:"noopener noreferrer"}},[e._v("Entity–relationship model"),a("OutboundLink")],1),e._v(":")]),e._v(" "),a("blockquote",[a("p",[a("em",[e._v("An entity–relationship model (or ER model) describes interrelated things of interest in a specific domain of knowledge. A basic ER model is composed of entity types (which classify the things of interest) and specifies relationships that can exist between entities (instances of those entity types).")])])]),e._v(" "),a("p",[e._v("The Entity–relationship model is broken down according to the conceptual-logical-physical hierarchy.")]),e._v(" "),a("p",[e._v("The Relationships are expressed literally by a name and in a structured way by a "),a("a",{attrs:{href:"https://en.wikipedia.org/wiki/Cardinality_(data_modeling)",target:"_blank",rel:"noopener noreferrer"}},[e._v("cardinality"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("The Entity–relationship model for the example presented in the "),a("a",{attrs:{href:"#overview"}},[e._v("Overview")]),e._v(" is detailed in "),a("a",{attrs:{href:"https://nbviewer.org/github/loco-philippe/Environmental-Sensing/blob/main/property_relationship/example_schema.ipynb",target:"_blank",rel:"noopener noreferrer"}},[e._v("this NoteBook"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"principles-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#principles-2"}},[e._v("#")]),e._v(" Principles")]),e._v(" "),a("p",[e._v("Two aspects need to be addressed:")]),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("relationship expression")]),e._v(":")]),e._v(" "),a("p",[e._v("This methodology applied for databases can also be applied for tabular data whose structure is similar to that of relational database tables but whose representation of relationships is different (see "),a("a",{attrs:{href:"https://www.ietf.org/archive/id/draft-thomy-ntv-tab-00.html#section-2",target:"_blank",rel:"noopener noreferrer"}},[e._v("patterns"),a("OutboundLink")],1),e._v(" used in tabular representations).")]),e._v(" "),a("p",[e._v("This variation is explained in the "),a("a",{attrs:{href:"https://github.com/loco-philippe/Environmental-Sensing/blob/main/property_relationship/methodology.ipynb",target:"_blank",rel:"noopener noreferrer"}},[e._v("linked notebook"),a("OutboundLink")],1),e._v(" and presented in the "),a("a",{attrs:{href:"https://nbviewer.org/github/loco-philippe/Environmental-Sensing/blob/main/property_relationship/example_schema.ipynb",target:"_blank",rel:"noopener noreferrer"}},[e._v("example"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("Using a data model is a simple way to express relationships but it is not required. We can express the relationships directly at the data schema level.")])]),e._v(" "),a("li",[a("p",[a("strong",[e._v("validity of a dataset")]),e._v(":")]),e._v(" "),a("p",[e._v("Checking the validity of a relationship for a defined dataset is one of the functions of "),a("a",{attrs:{href:"https://github.com/loco-philippe/tab-analysis/blob/main/docs/tabular_analysis.pdf",target:"_blank",rel:"noopener noreferrer"}},[e._v("tabular structure analysis"),a("OutboundLink")],1),e._v(". It only requires counting functions accessible for any type of language (see "),a("a",{attrs:{href:"https://github.com/loco-philippe/Environmental-Sensing/blob/main/property_relationship/example.ipynb",target:"_blank",rel:"noopener noreferrer"}},[e._v("example of implementation"),a("OutboundLink")],1),e._v(").")])])]),e._v(" "),a("h3",{attrs:{id:"proposed-extensions-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#proposed-extensions-2"}},[e._v("#")]),e._v(" Proposed extensions")]),e._v(" "),a("p",[e._v("A relationship is defined by the following information:")]),e._v(" "),a("ul",[a("li",[e._v("the two Fields involved (the order of the Fields is important with the “derived” link),")]),e._v(" "),a("li",[e._v("the textual representation of the relationship,")]),e._v(" "),a("li",[e._v("the nature of the relationship")])]),e._v(" "),a("p",[e._v("Three proposals for extending Table Schema are being considered:")]),e._v(" "),a("ul",[a("li",[e._v("New Field Descriptor")]),e._v(" "),a("li",[e._v("New Constraint Property")]),e._v(" "),a("li",[e._v("New Table Descriptor")])]),e._v(" "),a("p",[e._v("After discussions only the third is retained (a relationship between fields associated to a Field) and presented below:")]),e._v(" "),a("ul",[a("li",[a("p",[a("strong",[e._v("New Table Descriptor")]),e._v(":")]),e._v(" "),a("p",[e._v("A "),a("code",[e._v("relationships")]),e._v(" Table Descriptor is added."),a("br"),e._v("\nThe properties associated with this Descriptor could be:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("fields")]),e._v(": array with the names of the two Fields involved")]),e._v(" "),a("li",[a("code",[e._v("description")]),e._v(": description string (optional)")]),e._v(" "),a("li",[a("code",[e._v("link")]),e._v(": nature of the relationship")])]),e._v(" "),a("p",[e._v("Pros:")]),e._v(" "),a("ul",[a("li",[e._v("No mixing with Fields descriptors")])]),e._v(" "),a("p",[e._v("Cons:")]),e._v(" "),a("ul",[a("li",[e._v("Need to add a new Table Descriptor")]),e._v(" "),a("li",[e._v("The order of the Fields in the array is important with the “derived” link")])]),e._v(" "),a("p",[e._v("Example:")]),e._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"fields"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"relationships"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"fields"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"country"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"code"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"description"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"is the country code alpha-2 of"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"link"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"coupled"')]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("{")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"fields"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("[")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"region"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"population"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"description"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"is the population of"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v(",")]),e._v("\n      "),a("span",{pre:!0,attrs:{class:"token property"}},[e._v('"link"')]),e._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[e._v(":")]),e._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[e._v('"derived"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("]")]),e._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[e._v("}")]),e._v("\n")])])])])]),e._v(" "),a("h3",{attrs:{id:"specification-16"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specification-16"}},[e._v("#")]),e._v(" Specification")]),e._v(" "),a("p",[e._v("Assuming solution 3 (Table Descriptor), the specification could be as follows:")]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("relationships")]),e._v(" Descriptor MAY be used to define the dependency between fields.")]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("relationships")]),e._v(" Descriptor, if present, MUST be an array where each entry in the array is an object and MUST contain two required properties and one optional:")]),e._v(" "),a("ul",[a("li",[a("code",[e._v("fields")]),e._v(": Array with the property "),a("code",[e._v("name")]),e._v(" of the two fields linked (required)")]),e._v(" "),a("li",[a("code",[e._v("link")]),e._v(" : String with the nature of the relationship between them (required)")]),e._v(" "),a("li",[a("code",[e._v("description")]),e._v(" : String with the description of the relationship between the two Fields (optional)")])]),e._v(" "),a("p",[e._v("The "),a("code",[e._v("link")]),e._v(" property value MUST be one of the three following :")]),e._v(" "),a("ul",[a("li",[a("p",[a("code",[e._v("derived")]),e._v(" :")]),e._v(" "),a("ul",[a("li",[e._v("The values of the child (second array element) field are dependant on the values of the parent (first array element) field (i.e. a value in the parent field is associated with a single value in the child field).")]),e._v(" "),a("li",[e._v("e.g. The “name” field [ “john”, “paul”, “leah”, “paul” ] and the “Nickname” field  [ “jock”, “paulo”, “lili”, “paulo” ] are derived,")]),e._v(" "),a("li",[e._v("i.e. if a new entry “leah” is added, the corresponding “nickname” value must be “lili”.")])])]),e._v(" "),a("li",[a("p",[a("code",[e._v("coupled")]),e._v(" :")]),e._v(" "),a("ul",[a("li",[e._v("The values of one field are associated to the values of the other field.")]),e._v(" "),a("li",[e._v("e.g. The “Country” field [ “france”, “spain”, “estonia”, “spain” ] and the “code alpha-2” field [ “FR”, “ES”, “EE”, “ES” ] are  coupled,")]),e._v(" "),a("li",[e._v("i.e. if a new entry “estonia” is added, the corresponding “code alpha-2” value must be “EE” just as if a new entry “EE” is added, the corresponding “Country” value must be “estonia”.")])])]),e._v(" "),a("li",[a("p",[a("code",[e._v("crossed")]),e._v(" :")]),e._v(" "),a("ul",[a("li",[e._v("This relationship means that all the different values of one field are associated with all the different values of the other field.")]),e._v(" "),a("li",[e._v("e.g. the “Year” Field [ 2020, 2020, 2021, 2021] and the “Population” Field [ “estonia”, “spain”, “estonia”, “spain” ] are crossed")]),e._v(" "),a("li",[e._v("i.e the year 2020 is associated to population of “spain” and “estonia”, just as the population of “estonia” is associated with years 2020 and 2021")])])])]),e._v(" "),a("h3",{attrs:{id:"implementations-14"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#implementations-14"}},[e._v("#")]),e._v(" Implementations")]),e._v(" "),a("p",[e._v("The implementation of a new Descriptor is not discussed here (no particular point to address).")]),e._v(" "),a("p",[e._v("The control implementation is based on the following principles:")]),e._v(" "),a("ul",[a("li",[e._v("calculation of the number of different values for the two Fields,")]),e._v(" "),a("li",[e._v("calculation of the number of different values for the virtual Field composed of tuples of each of the values of the two Fields")]),e._v(" "),a("li",[e._v("comparison of these three values to deduce the type of relationship")]),e._v(" "),a("li",[e._v("comparison of the calculated relationship type with that defined in the data schema")])]),e._v(" "),a("p",[e._v("The "),a("a",{attrs:{href:"https://github.com/loco-philippe/Environmental-Sensing/blob/main/property_relationship/example.ipynb",target:"_blank",rel:"noopener noreferrer"}},[e._v("implementation example"),a("OutboundLink")],1),e._v(" presents calculation function."),a("br"),e._v("\nAn "),a("a",{attrs:{href:"https://github.com/loco-philippe/tab-analysis/blob/main/README.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("analysis tool"),a("OutboundLink")],1),e._v(" is also available and accessible from pandas data."),a("br"),e._v("\nAn example of implementation as "),a("code",[e._v("custom_check")]),e._v(" is available "),a("a",{attrs:{href:"https://nbviewer.org/github/loco-philippe/Environmental-Sensing/blob/main/property_relationship/relationship_descriptor.ipynb",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("h3",{attrs:{id:"notes-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#notes-2"}},[e._v("#")]),e._v(" Notes")]),e._v(" "),a("p",[e._v("If the relationships are defined in a data model, the generation of the relationships in the data schema can be automatic.")]),e._v(" "),a("p",[e._v("The example presented in the "),a("a",{attrs:{href:"#overview"}},[e._v("Overview")]),e._v(" and the rule for converting a Data model into a Table schema are detailed in "),a("a",{attrs:{href:"https://nbviewer.org/github/loco-philippe/Environmental-Sensing/blob/main/property_relationship/example_schema.ipynb",target:"_blank",rel:"noopener noreferrer"}},[e._v("this NoteBook"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("A complete example (60 000 rows, 50 fields) is used to validate the methodology and the tools: "),a("a",{attrs:{href:"https://www.data.gouv.fr/fr/reuses/les-donnees-irve-sont-elles-coherentes/",target:"_blank",rel:"noopener noreferrer"}},[e._v("open-data IRVE"),a("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=n.exports}}]);